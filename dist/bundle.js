/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={227:(e,n,t)=>{n.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;n.splice(1,0,t,"color: inherit");let r=0,o=0;n[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),n.splice(o,0,t)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){let e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),e.exports=t(447)(n);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,n,t)=>{e.exports=function(e){function n(e){let t,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(t||o);r.diff=i,r.prev=t,r.curr=o,t=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,o)=>{if("%%"===t)return"%";s++;const i=n.formatters[o];if("function"==typeof i){const n=e[s];t=i.call(r,n),e.splice(s,1),s--}return t})),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=r,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==n.namespaces&&(o=n.namespaces,i=n.enabled(e)),i),set:e=>{s=e}}),"function"==typeof n.init&&n.init(a),a}function r(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map((e=>"-"+e))].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.slice(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t(824),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((t=>{n[t]=e[t]})),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}},729:e=>{"use strict";var n=Object.prototype.hasOwnProperty,t="~";function r(){}function o(e,n,t){this.fn=e,this.context=n,this.once=t||!1}function i(e,n,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),c=t?t+n:n;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,n){0==--e._eventsCount?e._events=new r:delete e._events[n]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(t=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)n.call(e,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,n,r,o,i,s){var a=t?t+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,n),!0;case 3:return u.fn.call(u.context,n,r),!0;case 4:return u.fn.call(u.context,n,r,o),!0;case 5:return u.fn.call(u.context,n,r,o,i),!0;case 6:return u.fn.call(u.context,n,r,o,i,s),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,n);break;case 3:u[l].fn.call(u[l].context,n,r);break;case 4:u[l].fn.call(u[l].context,n,r,o);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,n,t){return i(this,e,n,t,!1)},a.prototype.once=function(e,n,t){return i(this,e,n,t,!0)},a.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==n||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==n||o&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var n;return e?(n=t?t+e:e,this._events[n]&&s(this,n)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,e.exports=a},632:(e,n,t)=>{const{bech32:r,hex:o,utf8:i}=t(621),s={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},a={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},l={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},u=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],h={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},d=BigInt("2100000000000000000"),f=BigInt(1e11),p={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},g={};for(let e=0,n=Object.keys(p);e<n.length;e++){const t=n[e],r=p[n[e]].toString();g[r]=t}const y={1:e=>o.encode(r.fromWordsUnsafe(e)),16:e=>o.encode(r.fromWordsUnsafe(e)),13:e=>i.encode(r.fromWordsUnsafe(e)),19:e=>o.encode(r.fromWordsUnsafe(e)),23:e=>o.encode(r.fromWordsUnsafe(e)),27:e=>o.encode(r.fromWordsUnsafe(e)),6:b,24:b,3:function(e){const n=[];let t,i,s,a,c,l=r.fromWordsUnsafe(e);for(;l.length>0;)t=o.encode(l.slice(0,33)),i=o.encode(l.slice(33,41)),s=parseInt(o.encode(l.slice(41,45)),16),a=parseInt(o.encode(l.slice(45,49)),16),c=parseInt(o.encode(l.slice(49,51)),16),l=l.slice(51),n.push({pubkey:t,short_channel_id:i,fee_base_msat:s,fee_proportional_millionths:a,cltv_expiry_delta:c});return n},5:function(e){const n=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,n)=>e.concat(n)),[]);for(;n.length<2*u.length;)n.push(!1);const t={};u.forEach(((e,r)=>{let o;o=n[2*r]?"required":n[2*r+1]?"supported":"unsupported",t[e]=o}));const r=n.slice(2*u.length);return t.extra_bits={start_bit:2*u.length,bits:r,has_required:r.reduce(((e,n,t)=>t%2!=0?e||!1:e||n),!1)},t}};function w(e){return n=>({tagCode:parseInt(e),words:r.encode("unknown",n,Number.MAX_SAFE_INTEGER)})}function b(e){return e.reverse().reduce(((e,n,t)=>e+n*Math.pow(32,t)),0)}function m(e,n){let t,r;if(e.slice(-1).match(/^[munp]$/))t=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const o=BigInt(r),i=t?o*f/h[t]:o*f;if("p"===t&&o%BigInt(10)!==BigInt(0)||i>d)throw new Error("Amount is outside of valid range");return n?i.toString():i}e.exports={decode:function(e,n){if("string"!=typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const t=[],i=r.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const u=i.prefix;let h=i.words,d=e.slice(u.length+1),f=h.slice(-104);h=h.slice(0,-104);let v=u.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(v&&!v[2]&&(v=u.match(/^ln(\S+)$/)),!v)throw new Error("Not a proper lightning payment request");t.push({name:"lightning_network",letters:"ln"});const E=v[1];let x;if(n){if(void 0===n.bech32||void 0===n.pubKeyHash||void 0===n.scriptHash||!Array.isArray(n.validWitnessVersions))throw new Error("Invalid network");x=n}else switch(E){case s.bech32:x=s;break;case a.bech32:x=a;break;case c.bech32:x=c;break;case l.bech32:x=l}if(!x||x.bech32!==E)throw new Error("Unknown coin bech32 prefix");t.push({name:"coin_network",letters:E,value:x});const k=v[2];let A;k?(A=m(k+v[3],!0),t.push({name:"amount",letters:v[2]+v[3],value:A})):A=null,t.push({name:"separator",letters:"1"});const C=b(h.slice(0,7));let I,U,B,S;for(h=h.slice(7),t.push({name:"timestamp",letters:d.slice(0,7),value:C}),d=d.slice(7);h.length>0;){const e=h[0].toString();I=g[e]||"unknown_tag",U=y[e]||w(e),h=h.slice(1),B=b(h.slice(0,2)),h=h.slice(2),S=h.slice(0,B),h=h.slice(B),t.push({name:I,tag:d[0],letters:d.slice(0,3+B),value:U(S)}),d=d.slice(3+B)}t.push({name:"signature",letters:d.slice(0,104),value:o.encode(r.fromWordsUnsafe(f))}),d=d.slice(104),t.push({name:"checksum",letters:d});let L={paymentRequest:e,sections:t,get expiry(){let e=t.find((e=>"expiry"===e.name));if(e)return _("timestamp")+e.value},get route_hints(){return t.filter((e=>"route_hint"===e.name)).map((e=>e.value))}};for(let e in p)"route_hint"!==e&&Object.defineProperty(L,e,{get:()=>_(e)});return L;function _(e){let n=t.find((n=>n.name===e));return n?n.value:void 0}},hrpToMillisat:m}},621:(e,n)=>{"use strict";function t(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const n=(e,n)=>t=>e(n(t));return{encode:Array.from(e).reverse().reduce(((e,t)=>e?n(e,t.encode):t.encode),void 0),decode:e.reduce(((e,t)=>e?n(e,t.decode):t.decode),void 0)}}function o(e){return{encode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("alphabet.encode input should be an array of numbers");return n.map((n=>{if(t(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]}))},decode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("alphabet.decode input should be array of strings");return n.map((n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const t=e.indexOf(n);if(-1===t)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return t}))}}}function i(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("join.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return n.join(e)},decode:n=>{if("string"!=typeof n)throw new Error("join.decode input should be string");return n.split(e)}}}function s(e,n="="){if(t(e),"string"!=typeof n)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;t.length*e%8;)t.push(n);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=t.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===n;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:n=>e(n)}}function c(e,n,r){if(n<2)throw new Error(`convertRadix: wrong from=${n}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let o=0;const i=[],s=Array.from(e);for(s.forEach((e=>{if(t(e),e<0||e>=n)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,t=!0;for(let i=o;i<s.length;i++){const a=s[i],c=n*e+a;if(!Number.isSafeInteger(c)||n*e/n!==e||c-a!=n*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[i]=Math.floor(c/r),!Number.isSafeInteger(s[i])||s[i]*r+e!==c)throw new Error("convertRadix: carry overflow");t&&(s[i]?t=!1:o=i)}if(i.push(e),t)break}for(let n=0;n<e.length-1&&0===e[n];n++)i.push(0);return i.reverse()}Object.defineProperty(n,"__esModule",{value:!0}),n.bytes=n.stringToBytes=n.str=n.bytesToString=n.hex=n.utf8=n.bech32m=n.bech32=n.base58check=n.base58xmr=n.base58xrp=n.base58flickr=n.base58=n.base64url=n.base64=n.base32crockford=n.base32hex=n.base32=n.base16=n.utils=n.assertNumber=void 0,n.assertNumber=t;const l=(e,n)=>n?l(n,e%n):e,u=(e,n)=>e+(n-l(e,n));function h(e,n,r,o){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(n<=0||n>32)throw new Error(`convertRadix2: wrong from=${n}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(u(n,r)>32)throw new Error(`convertRadix2: carry overflow from=${n} to=${r} carryBits=${u(n,r)}`);let i=0,s=0;const a=2**r-1,c=[];for(const o of e){if(t(o),o>=2**n)throw new Error(`convertRadix2: invalid data word=${o} from=${n}`);if(i=i<<n|o,s+n>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${n}`);for(s+=n;s>=r;s-=r)c.push((i>>s-r&a)>>>0);i&=2**s-1}if(i=i<<r-s&a,!o&&s>=n)throw new Error("Excess padding");if(!o&&i)throw new Error(`Non-zero padding: ${i}`);return o&&s>0&&c.push(i>>>0),c}function d(e){return t(e),{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(n),256,e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(n,e,256))}}}function f(e,n=!1){if(t(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,e)>32||u(e,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(t),8,e,!n)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(t,e,8,n))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...n){try{return e.apply(null,n)}catch(e){}}}function g(e,n){if(t(e),"function"!=typeof n)throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=n(t).slice(0,e),o=new Uint8Array(t.length+e);return o.set(t),o.set(r,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=t.slice(0,-e),o=n(r).slice(0,e),i=t.slice(-e);for(let n=0;n<e;n++)if(o[n]!==i[n])throw new Error("Invalid checksum");return r}}}n.utils={alphabet:o,chain:r,checksum:g,radix:d,radix2:f,join:i,padding:s},n.base16=r(f(4),o("0123456789ABCDEF"),i("")),n.base32=r(f(5),o("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),n.base32hex=r(f(5),o("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),n.base32crockford=r(f(5),o("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),n.base64=r(f(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),n.base64url=r(f(6),o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const y=e=>r(d(58),o(e),i(""));n.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),n.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];n.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){const o=e.subarray(r,r+8);t+=n.base58.encode(o).padStart(w[o.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const o=e.slice(r,r+11),i=w.indexOf(o.length),s=n.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(t)}},n.base58check=e=>r(g(4,(n=>e(e(n)))),n.base58);const b=r(o("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(e){const n=e>>25;let t=(33554431&e)<<5;for(let e=0;e<m.length;e++)1==(n>>e&1)&&(t^=m[e]);return t}function E(e,n,t=1){const r=e.length;let o=1;for(let n=0;n<r;n++){const t=e.charCodeAt(n);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);o=v(o)^t>>5}o=v(o);for(let n=0;n<r;n++)o=v(o)^31&e.charCodeAt(n);for(let e of n)o=v(o)^e;for(let e=0;e<6;e++)o=v(o);return o^=t,b.encode(h([o%2**30],30,5,!1))}function x(e){const n="bech32"===e?1:734539939,t=f(5),r=t.decode,o=t.encode,i=p(r);function s(e,t=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==t&&e.length>t)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=E(i,a,n);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,t,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof t);const o=e.length+7+t.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${b.encode(t)}${E(e,t,n)}`},decode:s,decodeToBytes:function(e){const{prefix:n,words:t}=s(e,!1);return{prefix:n,words:t,bytes:r(t)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}n.bech32=x("bech32"),n.bech32m=x("bech32m"),n.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},n.hex=r(f(4),o("0123456789abcdef"),i(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const k={utf8:n.utf8,hex:n.hex,base16:n.base16,base32:n.base32,base64:n.base64,base64url:n.base64url,base58:n.base58,base58xmr:n.base58xmr},A=`Invalid encoding type. Available types: ${Object.keys(k).join(", ")}`;n.bytesToString=(e,n)=>{if("string"!=typeof e||!k.hasOwnProperty(e))throw new TypeError(A);if(!(n instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return k[e].encode(n)},n.str=n.bytesToString,n.stringToBytes=(e,n)=>{if(!k.hasOwnProperty(e))throw new TypeError(A);if("string"!=typeof n)throw new TypeError("stringToBytes() expects string");return k[e].decode(n)},n.bytes=n.stringToBytes},824:e=>{var n=1e3,t=60*n,r=60*t,o=24*r;function i(e,n,t,r){var o=n>=1.5*t;return Math.round(e/t)+" "+r+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*t;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=r?i(a,c,r,"hour"):c>=t?i(a,c,t,"minute"):c>=n?i(a,c,n,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=t?Math.round(e/t)+"m":i>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},88:(e,n,t)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCache=void 0;const r=t(556);class o{constructor(e){this.lookupTable=new Map,this.head=null,this.tail=null;const{maxSize:n=25,entryExpirationTimeInMS:t=null,onEntryEvicted:r,onEntryMarkedAsMostRecentlyUsed:o,cloneFn:i,clone:s}=null!=e?e:{};if(Number.isNaN(n)||n<=0)throw new Error("maxSize must be greater than 0.");if("number"==typeof t&&(t<=0||Number.isNaN(t)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.maxSizeInternal=n,this.entryExpirationTimeInMS=t,this.onEntryEvicted=r,this.onEntryMarkedAsMostRecentlyUsed=o,this.clone=s,this.cloneFn=i}get size(){return this.cleanCache(),this.lookupTable.size}get remainingSize(){return this.maxSizeInternal-this.size}get newest(){return this.head?this.head.isExpired?(this.removeNodeFromListAndLookupTable(this.head),this.newest):this.mapNodeToEntry(this.head):null}get oldest(){return this.tail?this.tail.isExpired?(this.removeNodeFromListAndLookupTable(this.tail),this.oldest):this.mapNodeToEntry(this.tail):null}get maxSize(){return this.maxSizeInternal}set maxSize(e){if(Number.isNaN(e)||e<=0)throw new Error("maxSize must be greater than 0.");this.maxSizeInternal=e,this.enforceSizeLimit()}set(e,n,t){const o=this.lookupTable.get(e);o&&this.removeNodeFromListAndLookupTable(o);const i=new r.LRUCacheNode(e,n,{entryExpirationTimeInMS:this.entryExpirationTimeInMS,onEntryEvicted:this.onEntryEvicted,onEntryMarkedAsMostRecentlyUsed:this.onEntryMarkedAsMostRecentlyUsed,clone:this.clone,cloneFn:this.cloneFn,...t});return this.setNodeAsHead(i),this.lookupTable.set(e,i),this.enforceSizeLimit(),this}get(e){const n=this.lookupTable.get(e);return n?n.isExpired?(this.removeNodeFromListAndLookupTable(n),null):(this.setNodeAsHead(n),n.value):null}peek(e){const n=this.lookupTable.get(e);return n?n.isExpired?(this.removeNodeFromListAndLookupTable(n),null):n.value:null}delete(e){const n=this.lookupTable.get(e);return!!n&&this.removeNodeFromListAndLookupTable(n)}has(e){const n=this.lookupTable.get(e);return!(!n||n.isExpired&&(this.removeNodeFromListAndLookupTable(n),1))}clear(){this.head=null,this.tail=null,this.lookupTable.clear()}find(e){let n=this.head;for(;n;){if(n.isExpired){const e=n.next;this.removeNodeFromListAndLookupTable(n),n=e;continue}const t=this.mapNodeToEntry(n);if(e(t))return this.setNodeAsHead(n),t;n=n.next}return null}forEach(e){let n=this.head,t=0;for(;n;)if(n.isExpired){const e=n.next;this.removeNodeFromListAndLookupTable(n),n=e}else e(n.value,n.key,t),n=n.next,t++}*values(){let e=this.head;for(;e;)if(e.isExpired){const n=e.next;this.removeNodeFromListAndLookupTable(e),e=n}else yield e.value,e=e.next}*keys(){let e=this.head;for(;e;)if(e.isExpired){const n=e.next;this.removeNodeFromListAndLookupTable(e),e=n}else yield e.key,e=e.next}*entries(){let e=this.head;for(;e;)if(e.isExpired){const n=e.next;this.removeNodeFromListAndLookupTable(e),e=n}else yield this.mapNodeToEntry(e),e=e.next}*[Symbol.iterator](){let e=this.head;for(;e;)if(e.isExpired){const n=e.next;this.removeNodeFromListAndLookupTable(e),e=n}else yield this.mapNodeToEntry(e),e=e.next}enforceSizeLimit(){let e=this.tail;for(;null!==e&&this.size>this.maxSizeInternal;){const n=e.prev;this.removeNodeFromListAndLookupTable(e),e=n}}mapNodeToEntry({key:e,value:n}){return{key:e,value:n}}setNodeAsHead(e){this.removeNodeFromList(e),this.head?(e.next=this.head,this.head.prev=e,this.head=e):(this.head=e,this.tail=e),e.invokeOnEntryMarkedAsMostRecentlyUsed()}removeNodeFromList(e){null!==e.prev&&(e.prev.next=e.next),null!==e.next&&(e.next.prev=e.prev),this.head===e&&(this.head=e.next),this.tail===e&&(this.tail=e.prev),e.next=null,e.prev=null}removeNodeFromListAndLookupTable(e){return e.invokeOnEvicted(),this.removeNodeFromList(e),this.lookupTable.delete(e.key)}cleanCache(){if(!this.entryExpirationTimeInMS)return;const e=[];for(const n of this.lookupTable.values())n.isExpired&&e.push(n);e.forEach((e=>this.removeNodeFromListAndLookupTable(e)))}}n.LRUCache=o},556:(e,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LRUCacheNode=void 0,n.LRUCacheNode=class{constructor(e,n,t){const{entryExpirationTimeInMS:r=null,next:o=null,prev:i=null,onEntryEvicted:s,onEntryMarkedAsMostRecentlyUsed:a,clone:c,cloneFn:l}=null!=t?t:{};if("number"==typeof r&&(r<=0||Number.isNaN(r)))throw new Error("entryExpirationTimeInMS must either be null (no expiry) or greater than 0");this.clone=null!=c&&c,this.cloneFn=null!=l?l:this.defaultClone,this.key=e,this.internalValue=this.clone?this.cloneFn(n):n,this.created=Date.now(),this.entryExpirationTimeInMS=r,this.next=o,this.prev=i,this.onEntryEvicted=s,this.onEntryMarkedAsMostRecentlyUsed=a}get value(){return this.clone?this.cloneFn(this.internalValue):this.internalValue}get isExpired(){return"number"==typeof this.entryExpirationTimeInMS&&Date.now()-this.created>this.entryExpirationTimeInMS}invokeOnEvicted(){if(this.onEntryEvicted){const{key:e,value:n,isExpired:t}=this;this.onEntryEvicted({key:e,value:n,isExpired:t})}}invokeOnEntryMarkedAsMostRecentlyUsed(){if(this.onEntryMarkedAsMostRecentlyUsed){const{key:e,value:n}=this;this.onEntryMarkedAsMostRecentlyUsed({key:e,value:n})}}defaultClone(e){return"boolean"==typeof e||"string"==typeof e||"number"==typeof e?e:JSON.parse(JSON.stringify(e))}}},653:function(e,n,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);o&&!("get"in o?!n.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),o=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||r(n,e,t)};Object.defineProperty(n,"__esModule",{value:!0}),o(t(88),n)}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e,...n){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}t.r(e),t.d(e,{dQ:()=>$,ci:()=>C,bytesToNumberBE:()=>B,ty:()=>S,eV:()=>F,n$:()=>O,ql:()=>N,hexToBytes:()=>U,tL:()=>L,S5:()=>_,FF:()=>j});const o={number:n,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:r,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)},exists:function(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,n){r(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}},i="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,s=e=>e instanceof Uint8Array,a=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),c=(e,n)=>e<<32-n|e>>>n;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function l(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));class u{clone(){return this._cloneInto()}}function h(e){const n=n=>e().update(l(n)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function d(e=32){if(i&&"function"==typeof i.getRandomValues)return i.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class f extends u{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=a(this.buffer)}update(e){o.exists(this);const{view:n,buffer:t,blockLen:r}=this,i=(e=l(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)t.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(n,0),this.pos=0);else{const n=a(e);for(;r<=i-o;o+=r)this.process(n,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){o.exists(this),o.output(e,this),this.finished=!0;const{buffer:n,view:t,blockLen:r,isLE:i}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(t,0),s=0);for(let e=s;e<r;e++)n[e]=0;!function(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,l=r?0:4;e.setUint32(n+c,s,r),e.setUint32(n+l,a,r)}(t,r-8,BigInt(8*this.length),i),this.process(t,0);const c=a(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(t),e}}const p=(e,n,t)=>e&n^e&t^n&t,g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),w=new Uint32Array(64);class b extends f{constructor(){super(64,32,8,!1),this.A=0|y[0],this.B=0|y[1],this.C=0|y[2],this.D=0|y[3],this.E=0|y[4],this.F=0|y[5],this.G=0|y[6],this.H=0|y[7]}get(){const{A:e,B:n,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[e,n,t,r,o,i,s,a]}set(e,n,t,r,o,i,s,a){this.A=0|e,this.B=0|n,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,n){for(let t=0;t<16;t++,n+=4)w[t]=e.getUint32(n,!1);for(let e=16;e<64;e++){const n=w[e-15],t=w[e-2],r=c(n,7)^c(n,18)^n>>>3,o=c(t,17)^c(t,19)^t>>>10;w[e]=o+w[e-7]+r+w[e-16]|0}let{A:t,B:r,C:o,D:i,E:s,F:a,G:l,H:u}=this;for(let e=0;e<64;e++){const n=u+(c(s,6)^c(s,11)^c(s,25))+((h=s)&a^~h&l)+g[e]+w[e]|0,d=(c(t,2)^c(t,13)^c(t,22))+p(t,r,o)|0;u=l,l=a,a=s,s=i+n|0,i=o,o=r,r=t,t=n+d|0}var h;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(t,r,o,i,s,a,l,u)}roundClean(){w.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class m extends b{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const v=h((()=>new b)),E=(h((()=>new m)),BigInt(0),BigInt(1)),x=BigInt(2),k=e=>e instanceof Uint8Array,A=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));function C(e){if(!k(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=A[e[t]];return n}function I(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function U(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const n=e.length;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);const t=new Uint8Array(n/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function B(e){return I(C(e))}function S(e){if(!k(e))throw new Error("Uint8Array expected");return I(C(Uint8Array.from(e).reverse()))}function L(e,n){return U(e.toString(16).padStart(2*n,"0"))}function _(e,n){return L(e,n).reverse()}function N(e,n,t){let r;if("string"==typeof n)try{r=U(n)}catch(t){throw new Error(`${e} must be valid hex string, got "${n}". Cause: ${t}`)}else{if(!k(n))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(n)}const o=r.length;if("number"==typeof t&&o!==t)throw new Error(`${e} expected ${t} bytes, got ${o}`);return r}function F(...e){const n=new Uint8Array(e.reduce(((e,n)=>e+n.length),0));let t=0;return e.forEach((e=>{if(!k(e))throw new Error("Uint8Array expected");n.set(e,t),t+=e.length})),n}const $=e=>(x<<BigInt(e-1))-E,T=e=>new Uint8Array(e),R=e=>Uint8Array.from(e);function O(e,n,t){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof n||n<2)throw new Error("qByteLen must be a number");if("function"!=typeof t)throw new Error("hmacFn must be a function");let r=T(e),o=T(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...e)=>t(o,r,...e),c=(e=T())=>{o=a(R([0]),e),r=a(),0!==e.length&&(o=a(R([1]),e),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const t=[];for(;e<n;){r=a();const n=r.slice();t.push(n),e+=r.length}return F(...t)};return(e,n)=>{let t;for(s(),c(e);!(t=n(l()));)c();return s(),t}}const H={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,n)=>n.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function j(e,n,t={}){const r=(n,t,r)=>{const o=H[t];if("function"!=typeof o)throw new Error(`Invalid validator "${t}", expected function`);const i=e[n];if(!(r&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(n)}=${i} (${typeof i}), expected ${t}`)};for(const[e,t]of Object.entries(n))r(e,t,!1);for(const[e,n]of Object.entries(t))r(e,n,!0);return e}const z=BigInt(0),K=BigInt(1),q=BigInt(2),M=BigInt(3),P=BigInt(4),D=BigInt(5),V=BigInt(8);function W(e,n){const t=e%n;return t>=z?t:n+t}function G(e,n,t){if(t<=z||n<z)throw new Error("Expected power/modulo > 0");if(t===K)return z;let r=K;for(;n>z;)n&K&&(r=r*e%t),e=e*e%t,n>>=K;return r}function Z(e,n,t){let r=e;for(;n-- >z;)r*=r,r%=t;return r}function J(e,n){if(e===z||n<=z)throw new Error(`invert: expected positive integers, got n=${e} mod=${n}`);let t=W(e,n),r=n,o=z,i=K,s=K,a=z;for(;t!==z;){const e=r/t,n=r%t,c=o-s*e,l=i-a*e;r=t,t=n,o=s,i=a,s=c,a=l}if(r!==K)throw new Error("invert: does not exist");return W(o,n)}BigInt(9),BigInt(16);const Y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Q(e,n){const t=void 0!==n?n:e.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}const X=BigInt(0),ee=BigInt(1);function ne(e){return j(e.Fp,Y.reduce(((e,n)=>(e[n]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),j(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Q(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:te,hexToBytes:re}=e,oe={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:n}=oe;if(e.length<2||2!==e[0])throw new n("Invalid signature integer tag");const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new n("Invalid signature integer: wrong length");if(128&r[0])throw new n("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new n("Invalid signature integer: unnecessary leading zero");return{d:te(r),l:e.subarray(t+2)}},toSig(e){const{Err:n}=oe,t="string"==typeof e?re(e):e;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||48!=t[0])throw new n("Invalid signature tag");if(t[1]!==r-2)throw new n("Invalid signature: incorrect length");const{d:o,l:i}=oe._parseInt(t.subarray(2)),{d:s,l:a}=oe._parseInt(i);if(a.length)throw new n("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(e){const n=e=>8&Number.parseInt(e[0],16)?"00"+e:e,t=e=>{const n=e.toString(16);return 1&n.length?`0${n}`:n},r=n(t(e.s)),o=n(t(e.r)),i=r.length/2,s=o.length/2,a=t(i),c=t(s);return`30${t(s+i+4)}02${c}${o}02${a}${r}`}},ie=BigInt(0),se=BigInt(1),ae=(BigInt(2),BigInt(3));function ce(e){const n=function(e){const n=ne(e);return j(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}(e),{Fp:t,n:r}=n,o=t.BYTES+1,i=2*t.BYTES+1;function s(e){return W(e,r)}function a(e){return J(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=function(e){const n=function(e){const n=ne(e);j(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:o}=n;if(t){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof t||"bigint"!=typeof t.beta||"function"!=typeof t.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}(e),{Fp:t}=n,r=n.toBytes||((e,n,r)=>{const o=n.toAffine();return F(Uint8Array.from([4]),t.toBytes(o.x),t.toBytes(o.y))}),o=n.fromBytes||(e=>{const n=e.subarray(1);return{x:t.fromBytes(n.subarray(0,t.BYTES)),y:t.fromBytes(n.subarray(t.BYTES,2*t.BYTES))}});function i(e){const{a:r,b:o}=n,i=t.sqr(e),s=t.mul(i,e);return t.add(t.add(s,t.mul(e,r)),o)}if(!t.eql(t.sqr(n.Gy),i(n.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&ie<e&&e<n.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:t,nByteLength:r,wrapPrivateKey:o,n:i}=n;if(t&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=C(e)),"string"!=typeof e||!t.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:B(N("private key",e,r))}catch(n){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return o&&(s=W(s,i)),a(s),s}const l=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,n,r){if(this.px=e,this.py=n,this.pz=r,null==e||!t.isValid(e))throw new Error("x required");if(null==n||!t.isValid(n))throw new Error("y required");if(null==r||!t.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:n,y:r}=e||{};if(!e||!t.isValid(n)||!t.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const o=e=>t.eql(e,t.ZERO);return o(n)&&o(r)?h.ZERO:new h(n,r,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const n=t.invertBatch(e.map((e=>e.pz)));return e.map(((e,t)=>e.toAffine(n[t]))).map(h.fromAffine)}static fromHex(e){const n=h.fromAffine(o(N("pointHex",e)));return n.assertValidity(),n}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!t.isValid(e)||!t.isValid(r))throw new Error("bad point: x or y not FE");const o=t.sqr(r),s=i(e);if(!t.eql(o,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(t.isOdd)return!t.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:n,py:r,pz:o}=this,{px:i,py:s,pz:a}=e,c=t.eql(t.mul(n,a),t.mul(i,o)),l=t.eql(t.mul(r,a),t.mul(s,o));return c&&l}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:e,b:r}=n,o=t.mul(r,ae),{px:i,py:s,pz:a}=this;let c=t.ZERO,l=t.ZERO,u=t.ZERO,d=t.mul(i,i),f=t.mul(s,s),p=t.mul(a,a),g=t.mul(i,s);return g=t.add(g,g),u=t.mul(i,a),u=t.add(u,u),c=t.mul(e,u),l=t.mul(o,p),l=t.add(c,l),c=t.sub(f,l),l=t.add(f,l),l=t.mul(c,l),c=t.mul(g,c),u=t.mul(o,u),p=t.mul(e,p),g=t.sub(d,p),g=t.mul(e,g),g=t.add(g,u),u=t.add(d,d),d=t.add(u,d),d=t.add(d,p),d=t.mul(d,g),l=t.add(l,d),p=t.mul(s,a),p=t.add(p,p),d=t.mul(p,g),c=t.sub(c,d),u=t.mul(p,f),u=t.add(u,u),u=t.add(u,u),new h(c,l,u)}add(e){u(e);const{px:r,py:o,pz:i}=this,{px:s,py:a,pz:c}=e;let l=t.ZERO,d=t.ZERO,f=t.ZERO;const p=n.a,g=t.mul(n.b,ae);let y=t.mul(r,s),w=t.mul(o,a),b=t.mul(i,c),m=t.add(r,o),v=t.add(s,a);m=t.mul(m,v),v=t.add(y,w),m=t.sub(m,v),v=t.add(r,i);let E=t.add(s,c);return v=t.mul(v,E),E=t.add(y,b),v=t.sub(v,E),E=t.add(o,i),l=t.add(a,c),E=t.mul(E,l),l=t.add(w,b),E=t.sub(E,l),f=t.mul(p,v),l=t.mul(g,b),f=t.add(l,f),l=t.sub(w,f),f=t.add(w,f),d=t.mul(l,f),w=t.add(y,y),w=t.add(w,y),b=t.mul(p,b),v=t.mul(g,v),w=t.add(w,b),b=t.sub(y,b),b=t.mul(p,b),v=t.add(v,b),y=t.mul(w,v),d=t.add(d,y),y=t.mul(E,v),l=t.mul(m,l),l=t.sub(l,y),y=t.mul(m,w),f=t.mul(E,f),f=t.add(f,y),new h(l,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return f.wNAFCached(this,l,e,(e=>{const n=t.invertBatch(e.map((e=>e.pz)));return e.map(((e,t)=>e.toAffine(n[t]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===ie)return r;if(a(e),e===se)return this;const{endo:o}=n;if(!o)return f.unsafeLadder(this,e);let{k1neg:i,k1:s,k2neg:c,k2:l}=o.splitScalar(e),u=r,d=r,p=this;for(;s>ie||l>ie;)s&se&&(u=u.add(p)),l&se&&(d=d.add(p)),p=p.double(),s>>=se,l>>=se;return i&&(u=u.negate()),c&&(d=d.negate()),d=new h(t.mul(d.px,o.beta),d.py,d.pz),u.add(d)}multiply(e){a(e);let r,o,i=e;const{endo:s}=n;if(s){const{k1neg:e,k1:n,k2neg:a,k2:c}=s.splitScalar(i);let{p:l,f:u}=this.wNAF(n),{p:d,f:p}=this.wNAF(c);l=f.constTimeNegate(e,l),d=f.constTimeNegate(a,d),d=new h(t.mul(d.px,s.beta),d.py,d.pz),r=l.add(d),o=u.add(p)}else{const{p:e,f:n}=this.wNAF(i);r=e,o=n}return h.normalizeZ([r,o])[0]}multiplyAndAddUnsafe(e,n,t){const r=h.BASE,o=(e,n)=>n!==ie&&n!==se&&e.equals(r)?e.multiply(n):e.multiplyUnsafe(n),i=o(this,n).add(o(e,t));return i.is0()?void 0:i}toAffine(e){const{px:n,py:r,pz:o}=this,i=this.is0();null==e&&(e=i?t.ONE:t.inv(o));const s=t.mul(n,e),a=t.mul(r,e),c=t.mul(o,e);if(i)return{x:t.ZERO,y:t.ZERO};if(!t.eql(c,t.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:t}=n;if(e===se)return!0;if(t)return t(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:t}=n;return e===se?this:t?t(h,this):this.multiplyUnsafe(n.h)}toRawBytes(e=!0){return this.assertValidity(),r(h,this,e)}toHex(e=!0){return C(this.toRawBytes(e))}}h.BASE=new h(n.Gx,n.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const d=n.nBitLength,f=function(e,n){const t=(e,n)=>{const t=n.negate();return e?t:n},r=e=>({windows:Math.ceil(n/e)+1,windowSize:2**(e-1)});return{constTimeNegate:t,unsafeLadder(n,t){let r=e.ZERO,o=n;for(;t>X;)t&ee&&(r=r.add(o)),o=o.double(),t>>=ee;return r},precomputeWindow(e,n){const{windows:t,windowSize:o}=r(n),i=[];let s=e,a=s;for(let e=0;e<t;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(n,o,i){const{windows:s,windowSize:a}=r(n);let c=e.ZERO,l=e.BASE;const u=BigInt(2**n-1),h=2**n,d=BigInt(n);for(let e=0;e<s;e++){const n=e*a;let r=Number(i&u);i>>=d,r>a&&(r-=h,i+=ee);const s=n,f=n+Math.abs(r)-1,p=e%2!=0,g=r<0;0===r?l=l.add(t(p,o[s])):c=c.add(t(g,o[f]))}return{p:c,f:l}},wNAFCached(e,n,t,r){const o=e._WINDOW_SIZE||1;let i=n.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&n.set(e,r(i))),this.wNAF(o,i,t)}}}(h,n.endo?Math.ceil(d/2):d);return{CURVE:n,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}({...n,toBytes(e,n,r){const o=n.toAffine(),i=t.toBytes(o.x),s=F;return r?s(Uint8Array.from([n.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,t.toBytes(o.y))},fromBytes(e){const n=e.length,r=e[0],s=e.subarray(1);if(n!==o||2!==r&&3!==r){if(n===i&&4===r)return{x:t.fromBytes(s.subarray(0,t.BYTES)),y:t.fromBytes(s.subarray(t.BYTES,2*t.BYTES))};throw new Error(`Point of length ${n} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}{const e=B(s);if(!(ie<(a=e)&&a<t.ORDER))throw new Error("Point is not on curve");const n=u(e);let o=t.sqrt(n);return 1==(1&r)!=((o&se)===se)&&(o=t.neg(o)),{x:e,y:o}}var a}}),d=e=>C(L(e,n.nByteLength));function f(e){return e>r>>se}const p=(e,n,t)=>B(e.slice(n,t));class g{constructor(e,n,t){this.r=e,this.s=n,this.recovery=t,this.assertValidity()}static fromCompact(e){const t=n.nByteLength;return e=N("compactSignature",e,2*t),new g(p(e,0,t),p(e,t,2*t))}static fromDER(e){const{r:n,s:t}=oe.toSig(N("DER",e));return new g(n,t)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r,s:o,recovery:i}=this,l=m(N("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const u=2===i||3===i?r+n.n:r;if(u>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0==(1&i)?"02":"03",f=c.fromHex(h+d(u)),p=a(u),g=s(-l*p),y=s(o*p),w=c.BASE.multiplyAndAddUnsafe(f,g,y);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return U(this.toDERHex())}toDERHex(){return oe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return U(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const y={isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>L(function(e,n,t=!1){const r=(e=N("privateHash",e)).length,o=Q(n).nByteLength+8;if(o<24||r<o||r>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${r}`);return W(t?S(e):B(e),n-K)+K}(n.randomBytes(t.BYTES+8),r),n.nByteLength),precompute:(e=8,n=c.BASE)=>(n._setWindowSize(e),n.multiply(BigInt(3)),n)};function w(e){const n=e instanceof Uint8Array,t="string"==typeof e,r=(n||t)&&e.length;return n?r===o||r===i:t?r===2*o||r===2*i:e instanceof c}const b=n.bits2int||function(e){const t=B(e),r=8*e.length-n.nBitLength;return r>0?t>>BigInt(r):t},m=n.bits2int_modN||function(e){return s(b(e))},v=$(n.nBitLength);function E(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(ie<=e&&e<v))throw new Error(`bigint expected < 2^${n.nBitLength}`);return L(e,n.nByteLength)}const x={lowS:n.lowS,prehash:!1},k={lowS:n.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(e,n=!0){return c.fromPrivateKey(e).toRawBytes(n)},getSharedSecret:function(e,n,t=!0){if(w(e))throw new Error("first arg must be private key");if(!w(n))throw new Error("second arg must be public key");return c.fromHex(n).multiply(l(e)).toRawBytes(t)},sign:function(e,r,o=x){const{seed:i,k2sig:u}=function(e,r,o=x){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:u}=n;let{lowS:d,prehash:p,extraEntropy:y}=o;null==d&&(d=!0),e=N("msgHash",e),p&&(e=N("prehashed msgHash",i(e)));const w=m(e),v=l(r),k=[E(v),E(w)];if(null!=y){const e=!0===y?u(t.BYTES):y;k.push(N("extraEntropy",e,t.BYTES))}const A=F(...k),C=w;return{seed:A,k2sig:function(e){const n=b(e);if(!h(n))return;const t=a(n),r=c.BASE.multiply(n).toAffine(),o=s(r.x);if(o===ie)return;const i=s(t*s(C+o*v));if(i===ie)return;let l=(r.x===o?0:2)|Number(r.y&se),u=i;return d&&f(i)&&(u=function(e){return f(e)?s(-e):e}(i),l^=1),new g(o,u,l)}}}(e,r,o),d=n;return O(d.hash.outputLen,d.nByteLength,d.hmac)(i,u)},verify:function(e,t,r,o=k){const i=e;if(t=N("msgHash",t),r=N("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:u}=o;let h,d;try{if("string"==typeof i||i instanceof Uint8Array)try{h=g.fromDER(i)}catch(e){if(!(e instanceof oe.Err))throw e;h=g.fromCompact(i)}else{if("object"!=typeof i||"bigint"!=typeof i.r||"bigint"!=typeof i.s)throw new Error("PARSE");{const{r:e,s:n}=i;h=new g(e,n)}}d=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&h.hasHighS())return!1;u&&(t=n.hash(t));const{r:f,s:p}=h,y=m(t),w=a(p),b=s(y*w),v=s(f*w),E=c.BASE.multiplyAndAddUnsafe(d,b,v)?.toAffine();return!!E&&s(E.x)===f},ProjectivePoint:c,Signature:g,utils:y}}BigInt(4);class le extends u{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,o.hash(e);const t=l(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return o.exists(this),this.iHash.update(e),this}digestInto(e){o.exists(this),o.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ue=(e,n,t)=>new le(e,n).update(t).digest();function he(e){return{hash:e,hmac:(n,...t)=>ue(e,n,function(...e){const n=new Uint8Array(e.reduce(((e,n)=>e+n.length),0));let t=0;return e.forEach((e=>{if(!s(e))throw new Error("Uint8Array expected");n.set(e,t),t+=e.length})),n}(...t)),randomBytes:d}}ue.create=(e,n)=>new le(e,n);const de=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pe=BigInt(1),ge=BigInt(2),ye=(e,n)=>(e+n/ge)/n;function we(e){const n=de,t=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%n,u=l*l*e%n,h=Z(u,t,n)*u%n,d=Z(h,t,n)*u%n,f=Z(d,ge,n)*l%n,p=Z(f,o,n)*f%n,g=Z(p,i,n)*p%n,y=Z(g,a,n)*g%n,w=Z(y,c,n)*y%n,b=Z(w,a,n)*g%n,m=Z(b,t,n)*u%n,v=Z(m,s,n)*p%n,E=Z(v,r,n)*l%n,x=Z(E,ge,n);if(!be.eql(be.sqr(x),e))throw new Error("Cannot find square root");return x}const be=function(e,n,t=!1,r={}){if(e<=z)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=Q(e,n);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%P===M){const n=(e+K)/P;return function(e,t){const r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}}if(e%V===D){const n=(e-D)/V;return function(e,t){const r=e.mul(t,q),o=e.pow(r,n),i=e.mul(t,o),s=e.mul(e.mul(i,q),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}}return function(e){const n=(e-K)/q;let t,r,o;for(t=e-K,r=0;t%q===z;t/=q,r++);for(o=q;o<e&&G(o,n,e)!==e-K;o++);if(1===r){const n=(e+K)/P;return function(e,t){const r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}}const i=(t+K)/q;return function(e,s){if(e.pow(s,n)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,o),t),l=e.pow(s,i),u=e.pow(s,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let n=1;for(let t=e.sqr(u);n<a&&!e.eql(t,e.ONE);n++)t=e.sqr(t);const t=e.pow(c,K<<BigInt(a-n-1));c=e.sqr(t),l=e.mul(l,t),u=e.mul(u,c),a=n}return l}}(e)}(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:$(o),ZERO:z,ONE:K,create:n=>W(n,e),isValid:n=>{if("bigint"!=typeof n)throw new Error("Invalid field element: expected bigint, got "+typeof n);return z<=n&&n<e},is0:e=>e===z,isOdd:e=>(e&K)===K,neg:n=>W(-n,e),eql:(e,n)=>e===n,sqr:n=>W(n*n,e),add:(n,t)=>W(n+t,e),sub:(n,t)=>W(n-t,e),mul:(n,t)=>W(n*t,e),pow:(e,n)=>function(e,n,t){if(t<z)throw new Error("Expected power > 0");if(t===z)return e.ONE;if(t===K)return n;let r=e.ONE,o=n;for(;t>z;)t&K&&(r=e.mul(r,o)),o=e.sqr(o),t>>=K;return r}(a,e,n),div:(n,t)=>W(n*J(t,e),e),sqrN:e=>e*e,addN:(e,n)=>e+n,subN:(e,n)=>e-n,mulN:(e,n)=>e*n,inv:n=>J(n,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,n){const t=new Array(n.length),r=n.reduce(((n,r,o)=>e.is0(r)?n:(t[o]=n,e.mul(n,r))),e.ONE),o=e.inv(r);return n.reduceRight(((n,r,o)=>e.is0(r)?n:(t[o]=e.mul(n,t[o]),e.mul(n,r))),o),t}(a,e),cmov:(e,n,t)=>t?n:e,toBytes:e=>t?_(e,i):L(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return t?S(e):B(e)}});return Object.freeze(a)}(de,void 0,void 0,{sqrt:we}),me=function(e,n){const t=n=>ce({...e,...he(n)});return Object.freeze({...t(n),create:t})}({a:BigInt(0),b:BigInt(7),Fp:be,n:fe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const n=fe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-pe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,s=BigInt("0x100000000000000000000000000000000"),a=ye(i*e,n),c=ye(-r*e,n);let l=W(e-a*t-c*o,n),u=W(-a*r-c*i,n);const h=l>s,d=u>s;if(h&&(l=n-l),d&&(u=n-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},v),ve=BigInt(0),Ee=e=>"bigint"==typeof e&&ve<e&&e<de,xe=e=>"bigint"==typeof e&&ve<e&&e<fe,ke={};function Ae(e,...n){let t=ke[e];if(void 0===t){const n=v(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=F(n,n),ke[e]=t}return v(F(t,...n))}const Ce=e=>e.toRawBytes(!0).slice(1),Ie=e=>L(e,32),Ue=e=>W(e,de),Be=e=>W(e,fe),Se=me.ProjectivePoint,Le=(e,n,t)=>Se.BASE.multiplyAndAddUnsafe(e,n,t);function _e(e){let n=me.utils.normPrivateKeyToScalar(e),t=Se.fromPrivateKey(n);return{scalar:t.hasEvenY()?n:Be(-n),bytes:Ce(t)}}function Ne(e){if(!Ee(e))throw new Error("bad x: need 0 < x < p");const n=Ue(e*e);let t=we(Ue(n*e+BigInt(7)));t%ge!==ve&&(t=Ue(-t));const r=new Se(e,t,pe);return r.assertValidity(),r}function Fe(...e){return Be(B(Ae("BIP0340/challenge",...e)))}function $e(e){return _e(e).bytes}function Te(e,n,t=d(32)){const r=N("message",e),{bytes:o,scalar:i}=_e(n),s=N("auxRand",t,32),a=Ie(i^B(Ae("BIP0340/aux",s))),c=Ae("BIP0340/nonce",a,o,r),l=Be(B(c));if(l===ve)throw new Error("sign failed: k is zero");const{bytes:u,scalar:h}=_e(l),f=Fe(u,o,r),p=new Uint8Array(64);if(p.set(u,0),p.set(Ie(Be(h+f*i)),32),!Re(p,r,o))throw new Error("sign: Invalid signature produced");return p}function Re(e,n,t){const r=N("signature",e,64),o=N("message",n),i=N("publicKey",t,32);try{const e=Ne(B(i)),n=B(r.subarray(0,32));if(!Ee(n))return!1;const t=B(r.subarray(32,64));if(!xe(t))return!1;const s=Fe(Ie(n),Ce(e),o),a=Le(e,t,Be(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==n)}catch(e){return!1}}const Oe=(()=>({getPublicKey:$e,sign:Te,verify:Re,utils:{randomPrivateKey:me.utils.randomPrivateKey,lift_x:Ne,pointToBytes:Ce,numberToBytesBE:L,bytesToNumberBE:B,taggedHash:Ae,mod:W}}))(),He="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,je=e=>e instanceof Uint8Array,ze=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ke=(e,n)=>e<<32-n|e>>>n;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const qe=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));function Me(e){if(!je(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=qe[e[t]];return n}function Pe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const n=e.length;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);const t=new Uint8Array(n/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function De(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!je(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Ve{clone(){return this._cloneInto()}}function We(e){const n=n=>e().update(De(n)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function Ge(e=32){if(He&&"function"==typeof He.getRandomValues)return He.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Ze(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Je(e,...n){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}const Ye={number:Ze,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Je,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ze(e.outputLen),Ze(e.blockLen)},exists:function(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,n){Je(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}};class Qe extends Ve{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ze(this.buffer)}update(e){Ye.exists(this);const{view:n,buffer:t,blockLen:r}=this,o=(e=De(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0),this.pos=0);else{const n=ze(e);for(;r<=o-i;i+=r)this.process(n,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ye.exists(this),Ye.output(e,this),this.finished=!0;const{buffer:n,view:t,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(t,0),i=0);for(let e=i;e<r;e++)n[e]=0;!function(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,l=r?0:4;e.setUint32(n+c,s,r),e.setUint32(n+l,a,r)}(t,r-8,BigInt(8*this.length),o),this.process(t,0);const s=ze(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(t),e}}const Xe=(e,n,t)=>e&n^e&t^n&t,en=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tn=new Uint32Array(64);class rn extends Qe{constructor(){super(64,32,8,!1),this.A=0|nn[0],this.B=0|nn[1],this.C=0|nn[2],this.D=0|nn[3],this.E=0|nn[4],this.F=0|nn[5],this.G=0|nn[6],this.H=0|nn[7]}get(){const{A:e,B:n,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[e,n,t,r,o,i,s,a]}set(e,n,t,r,o,i,s,a){this.A=0|e,this.B=0|n,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,n){for(let t=0;t<16;t++,n+=4)tn[t]=e.getUint32(n,!1);for(let e=16;e<64;e++){const n=tn[e-15],t=tn[e-2],r=Ke(n,7)^Ke(n,18)^n>>>3,o=Ke(t,17)^Ke(t,19)^t>>>10;tn[e]=o+tn[e-7]+r+tn[e-16]|0}let{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const n=l+(Ke(s,6)^Ke(s,11)^Ke(s,25))+((u=s)&a^~u&c)+en[e]+tn[e]|0,h=(Ke(t,2)^Ke(t,13)^Ke(t,22))+Xe(t,r,o)|0;l=c,c=a,a=s,s=i+n|0,i=o,o=r,r=t,t=n+h|0}var u;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(t,r,o,i,s,a,c,l)}roundClean(){tn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class on extends rn{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sn=We((()=>new rn));function an(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function cn(...e){const n=(e,n)=>t=>e(n(t));return{encode:Array.from(e).reverse().reduce(((e,t)=>e?n(e,t.encode):t.encode),void 0),decode:e.reduce(((e,t)=>e?n(e,t.decode):t.decode),void 0)}}function ln(e){return{encode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("alphabet.encode input should be an array of numbers");return n.map((n=>{if(an(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]}))},decode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("alphabet.decode input should be array of strings");return n.map((n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const t=e.indexOf(n);if(-1===t)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return t}))}}}function un(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("join.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return n.join(e)},decode:n=>{if("string"!=typeof n)throw new Error("join.decode input should be string");return n.split(e)}}}function hn(e,n="="){if(an(e),"string"!=typeof n)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;t.length*e%8;)t.push(n);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=t.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===n;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function dn(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:n=>e(n)}}function fn(e,n,t){if(n<2)throw new Error(`convertRadix: wrong from=${n}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(an(e),e<0||e>=n)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=n*e+a;if(!Number.isSafeInteger(c)||n*e/n!==e||c-a!=n*e)throw new Error("convertRadix: carry overflow");if(e=c%t,i[o]=Math.floor(c/t),!Number.isSafeInteger(i[o])||i[o]*t+e!==c)throw new Error("convertRadix: carry overflow");s&&(i[o]?s=!1:r=o)}if(o.push(e),s)break}for(let n=0;n<e.length-1&&0===e[n];n++)o.push(0);return o.reverse()}We((()=>new on));const pn=(e,n)=>n?pn(n,e%n):e,gn=(e,n)=>e+(n-pn(e,n));function yn(e,n,t,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(n<=0||n>32)throw new Error(`convertRadix2: wrong from=${n}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(gn(n,t)>32)throw new Error(`convertRadix2: carry overflow from=${n} to=${t} carryBits=${gn(n,t)}`);let o=0,i=0;const s=2**t-1,a=[];for(const r of e){if(an(r),r>=2**n)throw new Error(`convertRadix2: invalid data word=${r} from=${n}`);if(o=o<<n|r,i+n>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${n}`);for(i+=n;i>=t;i-=t)a.push((o>>i-t&s)>>>0);o&=2**i-1}if(o=o<<t-i&s,!r&&i>=n)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function wn(e,n=!1){if(an(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gn(8,e)>32||gn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return yn(Array.from(t),8,e,!n)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(yn(t,e,8,n))}}}function bn(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...n){try{return e.apply(null,n)}catch(e){}}}cn(wn(4),ln("0123456789ABCDEF"),un("")),cn(wn(5),ln("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),hn(5),un(""));const mn=(cn(wn(5),ln("0123456789ABCDEFGHIJKLMNOPQRSTUV"),hn(5),un("")),cn(wn(5),ln("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),un(""),dn((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),cn(wn(6),ln("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),hn(6),un(""))),vn=(cn(wn(6),ln("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),hn(6),un("")),e=>{return cn((an(n=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return fn(Array.from(e),256,n)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(fn(e,n,256))}}),ln(e),un(""));var n}),En=(vn("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),vn("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),vn("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),cn(ln("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),un(""))),xn=[996825010,642813549,513874426,1027748829,705979059];function kn(e){const n=e>>25;let t=(33554431&e)<<5;for(let e=0;e<xn.length;e++)1==(n>>e&1)&&(t^=xn[e]);return t}function An(e,n,t=1){const r=e.length;let o=1;for(let n=0;n<r;n++){const t=e.charCodeAt(n);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);o=kn(o)^t>>5}o=kn(o);for(let n=0;n<r;n++)o=kn(o)^31&e.charCodeAt(n);for(let e of n)o=kn(o)^e;for(let e=0;e<6;e++)o=kn(o);return o^=t,En.encode(yn([o%2**30],30,5,!1))}function Cn(e){const n="bech32"===e?1:734539939,t=wn(5),r=t.decode,o=t.encode,i=bn(r);function s(e,t=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==t&&e.length>t)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${t})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=r).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=En.decode(s).slice(0,-6),c=An(i,a,n);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,t,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof t);const o=e.length+7+t.length;if(!1!==r&&o>r)throw new TypeError(`Length ${o} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${En.encode(t)}${An(e,t,n)}`},decode:s,decodeToBytes:function(e){const{prefix:n,words:t}=s(e,!1);return{prefix:n,words:t,bytes:r(t)}},decodeUnsafe:bn(s),fromWords:r,fromWordsUnsafe:i,toWords:o}}const In=Cn("bech32"),Un=(Cn("bech32m"),cn(wn(4),ln("0123456789abcdef"),un(""),dn((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),"abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n"));function Bn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Sn(e,...n){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function Ln(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Bn(e.outputLen),Bn(e.blockLen)}function _n(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}function Nn(e,n){Sn(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Fn={number:Bn,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Sn,hash:Ln,exists:_n,output:Nn},$n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Tn=e=>e instanceof Uint8Array,Rn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),On=(e,n)=>e<<32-n|e>>>n;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Hn=Array.from({length:256},((e,n)=>n.toString(16).padStart(2,"0")));function jn(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function zn(e){if("string"==typeof e&&(e=jn(e)),!Tn(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Kn(...e){const n=new Uint8Array(e.reduce(((e,n)=>e+n.length),0));let t=0;return e.forEach((e=>{if(!Tn(e))throw new Error("Uint8Array expected");n.set(e,t),t+=e.length})),n}class qn{clone(){return this._cloneInto()}}const Mn={}.toString;function Pn(e){const n=n=>e().update(zn(n)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}class Dn extends qn{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ln(e);const t=zn(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return _n(this),this.iHash.update(e),this}digestInto(e){_n(this),Sn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:t,finished:r,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=r,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=n._cloneInto(e.oHash),e.iHash=t._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vn=(e,n,t)=>new Dn(e,n).update(t).digest();Vn.create=(e,n)=>new Dn(e,n);class Wn extends qn{constructor(e,n,t,r){super(),this.blockLen=e,this.outputLen=n,this.padOffset=t,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rn(this.buffer)}update(e){_n(this);const{view:n,buffer:t,blockLen:r}=this,o=(e=zn(e)).length;for(let i=0;i<o;){const s=Math.min(r-this.pos,o-i);if(s!==r)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(n,0),this.pos=0);else{const n=Rn(e);for(;r<=o-i;i+=r)this.process(n,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){_n(this),Nn(e,this),this.finished=!0;const{buffer:n,view:t,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(t,0),i=0);for(let e=i;e<r;e++)n[e]=0;!function(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=r?4:0,l=r?0:4;e.setUint32(n+c,s,r),e.setUint32(n+l,a,r)}(t,r-8,BigInt(8*this.length),o),this.process(t,0);const s=Rn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,l[e],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:t,length:r,finished:o,destroyed:i,pos:s}=this;return e.length=r,e.pos=s,e.finished=o,e.destroyed=i,r%n&&e.buffer.set(t),e}}const Gn=(e,n,t)=>e&n^e&t^n&t,Zn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=new Uint32Array(64);class Qn extends Wn{constructor(){super(64,32,8,!1),this.A=0|Jn[0],this.B=0|Jn[1],this.C=0|Jn[2],this.D=0|Jn[3],this.E=0|Jn[4],this.F=0|Jn[5],this.G=0|Jn[6],this.H=0|Jn[7]}get(){const{A:e,B:n,C:t,D:r,E:o,F:i,G:s,H:a}=this;return[e,n,t,r,o,i,s,a]}set(e,n,t,r,o,i,s,a){this.A=0|e,this.B=0|n,this.C=0|t,this.D=0|r,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,n){for(let t=0;t<16;t++,n+=4)Yn[t]=e.getUint32(n,!1);for(let e=16;e<64;e++){const n=Yn[e-15],t=Yn[e-2],r=On(n,7)^On(n,18)^n>>>3,o=On(t,17)^On(t,19)^t>>>10;Yn[e]=o+Yn[e-7]+r+Yn[e-16]|0}let{A:t,B:r,C:o,D:i,E:s,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const n=l+(On(s,6)^On(s,11)^On(s,25))+((u=s)&a^~u&c)+Zn[e]+Yn[e]|0,h=(On(t,2)^On(t,13)^On(t,22))+Gn(t,r,o)|0;l=c,c=a,a=s,s=i+n|0,i=o,o=r,r=t,t=n+h|0}var u;t=t+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(t,r,o,i,s,a,c,l)}roundClean(){Yn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xn=Pn((()=>new Qn)),et=BigInt(2**32-1),nt=BigInt(32);function tt(e,n=!1){return n?{h:Number(e&et),l:Number(e>>nt&et)}:{h:0|Number(e>>nt&et),l:0|Number(e&et)}}const rt=function(e,n=!1){let t=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=tt(e[o],n);[t[o],r[o]]=[i,s]}return[t,r]},ot=(e,n,t)=>e>>>t,it=(e,n,t)=>e<<32-t|n>>>t,st=(e,n,t)=>e>>>t|n<<32-t,at=(e,n,t)=>e<<32-t|n>>>t,ct=(e,n,t)=>e<<64-t|n>>>t-32,lt=(e,n,t)=>e>>>t-32|n<<64-t,ut=function(e,n,t,r){const o=(n>>>0)+(r>>>0);return{h:e+t+(o/2**32|0)|0,l:0|o}},ht=(e,n,t)=>(e>>>0)+(n>>>0)+(t>>>0),dt=(e,n,t,r)=>n+t+r+(e/2**32|0)|0,ft=(e,n,t,r)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0),pt=(e,n,t,r,o)=>n+t+r+o+(e/2**32|0)|0,gt=(e,n,t,r,o,i)=>n+t+r+o+i+(e/2**32|0)|0,yt=(e,n,t,r,o)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0)+(o>>>0),[wt,bt]=(()=>rt(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),mt=new Uint32Array(80),vt=new Uint32Array(80);class Et extends Wn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:t,Bl:r,Ch:o,Cl:i,Dh:s,Dl:a,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,n,t,r,o,i,s,a,c,l,u,h,d,f,p,g]}set(e,n,t,r,o,i,s,a,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|n,this.Bh=0|t,this.Bl=0|r,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,n){for(let t=0;t<16;t++,n+=4)mt[t]=e.getUint32(n),vt[t]=e.getUint32(n+=4);for(let e=16;e<80;e++){const n=0|mt[e-15],t=0|vt[e-15],r=st(n,t,1)^st(n,t,8)^ot(n,t,7),o=at(n,t,1)^at(n,t,8)^it(n,t,7),i=0|mt[e-2],s=0|vt[e-2],a=st(i,s,19)^ct(i,s,61)^ot(i,s,6),c=at(i,s,19)^lt(i,s,61)^it(i,s,6),l=ft(o,c,vt[e-7],vt[e-16]),u=pt(l,r,a,mt[e-7],mt[e-16]);mt[e]=0|u,vt[e]=0|l}let{Ah:t,Al:r,Bh:o,Bl:i,Ch:s,Cl:a,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:w}=this;for(let e=0;e<80;e++){const n=st(u,h,14)^st(u,h,18)^ct(u,h,41),b=at(u,h,14)^at(u,h,18)^lt(u,h,41),m=u&d^~u&p,v=yt(w,b,h&f^~h&g,bt[e],vt[e]),E=gt(v,y,n,m,wt[e],mt[e]),x=0|v,k=st(t,r,28)^ct(t,r,34)^ct(t,r,39),A=at(t,r,28)^lt(t,r,34)^lt(t,r,39),C=t&o^t&s^o&s,I=r&i^r&a^i&a;y=0|p,w=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=ut(0|c,0|l,0|E,0|x)),c=0|s,l=0|a,s=0|o,a=0|i,o=0|t,i=0|r;const U=ht(x,A,I);t=dt(U,E,k,C),r=0|U}({h:t,l:r}=ut(0|this.Ah,0|this.Al,0|t,0|r)),({h:o,l:i}=ut(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:a}=ut(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l}=ut(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=ut(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=ut(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=ut(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:w}=ut(0|this.Hh,0|this.Hl,0|y,0|w)),this.set(t,r,o,i,s,a,c,l,u,h,d,f,p,g,y,w)}roundClean(){mt.fill(0),vt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const xt=Pn((()=>new Et));function kt(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function At(...e){const n=(e,n)=>t=>e(n(t));return{encode:Array.from(e).reverse().reduce(((e,t)=>e?n(e,t.encode):t.encode),void 0),decode:e.reduce(((e,t)=>e?n(e,t.decode):t.decode),void 0)}}function Ct(e){return{encode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("alphabet.encode input should be an array of numbers");return n.map((n=>{if(kt(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]}))},decode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("alphabet.decode input should be array of strings");return n.map((n=>{if("string"!=typeof n)throw new Error(`alphabet.decode: not string element=${n}`);const t=e.indexOf(n);if(-1===t)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return t}))}}}function It(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:n=>{if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("join.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return n.join(e)},decode:n=>{if("string"!=typeof n)throw new Error("join.decode input should be string");return n.split(e)}}}function Ut(e,n="="){if(kt(e),"string"!=typeof n)throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;t.length*e%8;)t.push(n);return t},decode(t){if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("padding.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=t.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===n;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function Bt(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:n=>e(n)}}function St(e,n,t){if(n<2)throw new Error(`convertRadix: wrong from=${n}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(kt(e),e<0||e>=n)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=r;o<i.length;o++){const a=i[o],c=n*e+a;if(!Number.isSafeInteger(c)||n*e/n!==e||c-a!=n*e)throw new Error("convertRadix: carry overflow");e=c%t;const l=Math.floor(c/t);if(i[o]=l,!Number.isSafeInteger(l)||l*t+e!==c)throw new Error("convertRadix: carry overflow");s&&(l?s=!1:r=o)}if(o.push(e),s)break}for(let n=0;n<e.length-1&&0===e[n];n++)o.push(0);return o.reverse()}const Lt=(e,n)=>n?Lt(n,e%n):e,_t=(e,n)=>e+(n-Lt(e,n));function Nt(e,n,t,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(n<=0||n>32)throw new Error(`convertRadix2: wrong from=${n}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(_t(n,t)>32)throw new Error(`convertRadix2: carry overflow from=${n} to=${t} carryBits=${_t(n,t)}`);let o=0,i=0;const s=2**t-1,a=[];for(const r of e){if(kt(r),r>=2**n)throw new Error(`convertRadix2: invalid data word=${r} from=${n}`);if(o=o<<n|r,i+n>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${n}`);for(i+=n;i>=t;i-=t)a.push((o>>i-t&s)>>>0);o&=2**i-1}if(o=o<<t-i&s,!r&&i>=n)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&a.push(o>>>0),a}function Ft(e){return kt(e),{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return St(Array.from(n),256,e)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(St(n,e,256))}}}function $t(e,n=!1){if(kt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(_t(8,e)>32||_t(e,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Nt(Array.from(t),8,e,!n)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Nt(t,e,8,n))}}}function Tt(e,n){if(kt(e),"function"!=typeof n)throw new Error("checksum fn should be function");return{encode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=n(t).slice(0,e),o=new Uint8Array(t.length+e);return o.set(t),o.set(r,t.length),o},decode(t){if(!(t instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=t.slice(0,-e),o=n(r).slice(0,e),i=t.slice(-e);for(let n=0;n<e;n++)if(o[n]!==i[n])throw new Error("Invalid checksum");return r}}}const Rt={alphabet:Ct,chain:At,checksum:Tt,radix:Ft,radix2:$t,join:It,padding:Ut},Ot=($t(4),Ct("0123456789ABCDEF"),It(""),$t(5),Ct("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ut(5),It(""),$t(5),Ct("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ut(5),It(""),$t(5),Ct("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),It(""),Bt((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),$t(6),Ct("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ut(6),It(""),$t(6),Ct("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ut(6),It(""),($t(6),Ct("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),It(""),e=>At(Ft(58),Ct(e),It("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));Ct("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),It("");const Ht=($t(4),Ct("0123456789abcdef"),It(""),Bt((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),e=>""===e[0]);function jt(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function zt(e){const n=jt(e),t=n.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:n,words:t}}function Kt(e){Fn.bytes(e,16,20,24,28,32)}const qt=e=>{const n=8-e.length/4;return new Uint8Array([Xn(e)[0]>>n<<n])};function Mt(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),Rt.chain(Rt.checksum(1,qt),Rt.radix2(11,!0),Rt.alphabet(e))}const Pt=e=>jt(`mnemonic${e}`);function Dt(e,n=""){return function(e,n,t,r){const{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=function(e,n,t,r){Ln(e);const o=function(e,n){if(void 0!==n&&"[object Object]"!==Mn.call(n))throw new Error("Options should be object or undefined");return Object.assign({dkLen:32,asyncTick:10},n)}(0,r),{c:i,dkLen:s,asyncTick:a}=o;if(Bn(i),Bn(s),Bn(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=zn(n),l=zn(t),u=new Uint8Array(s),h=Vn.create(e,c),d=h._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:h,PRFSalt:d}}(e,n,t,{c:2048,dkLen:64});let l;const u=new Uint8Array(4),h=Rn(u),d=new Uint8Array(a.outputLen);for(let e=1,n=0;n<i;e++,n+=a.outputLen){const t=s.subarray(n,n+a.outputLen);h.setInt32(0,e,!1),(l=c._cloneInto(l)).update(u).digestInto(d),t.set(d.subarray(0,t.length));for(let e=1;e<o;e++){a._cloneInto(l).update(d).digestInto(d);for(let e=0;e<t.length;e++)t[e]^=d[e]}}return function(e,n,t,r,o){return e.destroy(),n.destroy(),r&&r.destroy(),o.fill(0),t}(a,c,s,l,d)}(xt,zt(e).nfkd,Pt(n))}const Vt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Wt=Uint8Array.from({length:16},((e,n)=>n));let Gt=[Wt],Zt=[Wt.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let n of[Gt,Zt])n.push(n[e].map((e=>Vt[e])));const Jt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Yt=Gt.map(((e,n)=>e.map((e=>Jt[n][e])))),Qt=Zt.map(((e,n)=>e.map((e=>Jt[n][e])))),Xt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),er=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),nr=(e,n)=>e<<n|e>>>32-n;function tr(e,n,t,r){return 0===e?n^t^r:1===e?n&t|~n&r:2===e?(n|~t)^r:3===e?n&r|t&~r:n^(t|~r)}const rr=new Uint32Array(16);class or extends Wn{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:t,h3:r,h4:o}=this;return[e,n,t,r,o]}set(e,n,t,r,o){this.h0=0|e,this.h1=0|n,this.h2=0|t,this.h3=0|r,this.h4=0|o}process(e,n){for(let t=0;t<16;t++,n+=4)rr[t]=e.getUint32(n,!0);let t=0|this.h0,r=t,o=0|this.h1,i=o,s=0|this.h2,a=s,c=0|this.h3,l=c,u=0|this.h4,h=u;for(let e=0;e<5;e++){const n=4-e,d=Xt[e],f=er[e],p=Gt[e],g=Zt[e],y=Yt[e],w=Qt[e];for(let n=0;n<16;n++){const r=nr(t+tr(e,o,s,c)+rr[p[n]]+d,y[n])+u|0;t=u,u=c,c=0|nr(s,10),s=o,o=r}for(let e=0;e<16;e++){const t=nr(r+tr(n,i,a,l)+rr[g[e]]+f,w[e])+h|0;r=h,h=l,l=0|nr(a,10),a=i,i=t}}this.set(this.h1+s+l|0,this.h2+c+h|0,this.h3+u+r|0,this.h4+t+i|0,this.h0+o+a|0)}roundClean(){rr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ir=Pn((()=>new or)),sr=me.ProjectivePoint,ar=(cr=Xn,At(Tt(4,(e=>cr(cr(e)))),Ot));var cr;function lr(e){return BigInt(`0x${function(e){if(!Tn(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=Hn[e[t]];return n}(e)}`)}const ur=jn("Bitcoin seed"),hr={private:76066276,public:76067358},dr=2147483648,fr=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const n=new Uint8Array(4);return Rn(n).setUint32(0,e,!1),n};class pr{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,Rn(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return ar.encode(this.serialize(this.versions.private,Kn(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return ar.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,n=hr){if(Sn(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const t=Vn(xt,ur,e);return new pr({versions:n,chainCode:t.slice(32),privateKey:t.slice(0,32)})}static fromExtendedKey(e,n=hr){const t=ar.decode(e),r=Rn(t),o=r.getUint32(0,!1),i={versions:n,depth:t[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:t.slice(13,45)},s=t.slice(45),a=0===s[0];if(o!==n[a?"private":"public"])throw new Error("Version mismatch");return new pr(a?{...i,privateKey:s.slice(1)}:{...i,publicKey:s})}static fromJSON(e){return pr.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||hr,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!me.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:lr(e.privateKey),this.privKeyBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const n=e.length;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);const t=new Uint8Array(n/2);for(let n=0;n<t.length;n++){const r=2*n,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}(this.privKey.toString(16).padStart(64,"0")),this.pubKey=me.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=sr.fromHex(e.publicKey).toRawBytes(!0)}var n;this.pubHash=(n=this.pubKey,ir(Xn(n)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const n=e.replace(/^[mM]'?\//,"").split("/");let t=this;for(const e of n){const n=/^(\d+)('?)$/.exec(e);if(!n||3!==n.length)throw new Error(`Invalid child index: ${e}`);let r=+n[1];if(!Number.isSafeInteger(r)||r>=dr)throw new Error("Invalid index");"'"===n[2]&&(r+=dr),t=t.deriveChild(r)}return t}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let n=fr(e);if(e>=dr){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");n=Kn(new Uint8Array([0]),e,n)}else n=Kn(this.pubKey,n);const t=Vn(xt,this.chainCode,n),r=lr(t.slice(0,32)),o=t.slice(32);if(!me.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const i={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=W(this.privKey+r,me.CURVE.n);if(!me.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");i.privateKey=e}else{const e=sr.fromHex(this.pubKey).add(sr.fromPrivateKey(r));if(e.equals(sr.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");i.publicKey=e.toRawBytes(!0)}return new pr(i)}catch(n){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Sn(e,32),me.sign(e,this.privKey).toCompactRawBytes()}verify(e,n){if(Sn(e,32),Sn(n,64),!this.publicKey)throw new Error("No publicKey set!");let t;try{t=me.Signature.fromCompact(n)}catch(e){return!1}return me.verify(t,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,n){if(!this.chainCode)throw new Error("No chainCode set");return Sn(n,33),Kn(fr(e),new Uint8Array([this.depth]),fr(this.parentFingerprint),fr(this.index),this.chainCode,n)}}const gr=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function yr(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function wr(e){if("string"==typeof e&&(e=yr(e)),!(e instanceof Uint8Array))throw new Error("expected Uint8Array, got "+typeof e);return e}function br(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function mr(e,...n){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}const vr={number:br,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:mr,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("hash must be wrapped by utils.wrapConstructor");br(e.outputLen),br(e.blockLen)},exists:function(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,n){mr(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}},Er=(e,n)=>255&e[n++]|(255&e[n++])<<8;class xr{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,function(e,n){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");if(32!==e.length)throw new Error("Uint8Array length 32 expected")}(e=wr(e));const n=Er(e,0),t=Er(e,2),r=Er(e,4),o=Er(e,6),i=Er(e,8),s=Er(e,10),a=Er(e,12),c=Er(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|t<<3),this.r[2]=7939&(t>>>10|r<<6),this.r[3]=8191&(r>>>7|o<<9),this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,this.r[6]=8191&(i>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let n=0;n<8;n++)this.pad[n]=Er(e,16+2*n)}process(e,n,t=!1){const r=t?0:2048,{h:o,r:i}=this,s=i[0],a=i[1],c=i[2],l=i[3],u=i[4],h=i[5],d=i[6],f=i[7],p=i[8],g=i[9],y=Er(e,n+0),w=Er(e,n+2),b=Er(e,n+4),m=Er(e,n+6),v=Er(e,n+8),E=Er(e,n+10),x=Er(e,n+12),k=Er(e,n+14);let A=o[0]+(8191&y),C=o[1]+(8191&(y>>>13|w<<3)),I=o[2]+(8191&(w>>>10|b<<6)),U=o[3]+(8191&(b>>>7|m<<9)),B=o[4]+(8191&(m>>>4|v<<12)),S=o[5]+(v>>>1&8191),L=o[6]+(8191&(v>>>14|E<<2)),_=o[7]+(8191&(E>>>11|x<<5)),N=o[8]+(8191&(x>>>8|k<<8)),F=o[9]+(k>>>5|r),$=0,T=$+A*s+C*(5*g)+I*(5*p)+U*(5*f)+B*(5*d);$=T>>>13,T&=8191,T+=S*(5*h)+L*(5*u)+_*(5*l)+N*(5*c)+F*(5*a),$+=T>>>13,T&=8191;let R=$+A*a+C*s+I*(5*g)+U*(5*p)+B*(5*f);$=R>>>13,R&=8191,R+=S*(5*d)+L*(5*h)+_*(5*u)+N*(5*l)+F*(5*c),$+=R>>>13,R&=8191;let O=$+A*c+C*a+I*s+U*(5*g)+B*(5*p);$=O>>>13,O&=8191,O+=S*(5*f)+L*(5*d)+_*(5*h)+N*(5*u)+F*(5*l),$+=O>>>13,O&=8191;let H=$+A*l+C*c+I*a+U*s+B*(5*g);$=H>>>13,H&=8191,H+=S*(5*p)+L*(5*f)+_*(5*d)+N*(5*h)+F*(5*u),$+=H>>>13,H&=8191;let j=$+A*u+C*l+I*c+U*a+B*s;$=j>>>13,j&=8191,j+=S*(5*g)+L*(5*p)+_*(5*f)+N*(5*d)+F*(5*h),$+=j>>>13,j&=8191;let z=$+A*h+C*u+I*l+U*c+B*a;$=z>>>13,z&=8191,z+=S*s+L*(5*g)+_*(5*p)+N*(5*f)+F*(5*d),$+=z>>>13,z&=8191;let K=$+A*d+C*h+I*u+U*l+B*c;$=K>>>13,K&=8191,K+=S*a+L*s+_*(5*g)+N*(5*p)+F*(5*f),$+=K>>>13,K&=8191;let q=$+A*f+C*d+I*h+U*u+B*l;$=q>>>13,q&=8191,q+=S*c+L*a+_*s+N*(5*g)+F*(5*p),$+=q>>>13,q&=8191;let M=$+A*p+C*f+I*d+U*h+B*u;$=M>>>13,M&=8191,M+=S*l+L*c+_*a+N*s+F*(5*g),$+=M>>>13,M&=8191;let P=$+A*g+C*p+I*f+U*d+B*h;$=P>>>13,P&=8191,P+=S*u+L*l+_*c+N*a+F*s,$+=P>>>13,P&=8191,$=($<<2)+$|0,$=$+T|0,T=8191&$,$>>>=13,R+=$,o[0]=T,o[1]=R,o[2]=O,o[3]=H,o[4]=j,o[5]=z,o[6]=K,o[7]=q,o[8]=M,o[9]=P}finalize(){const{h:e,pad:n}=this,t=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let n=2;n<10;n++)e[n]+=r,r=e[n]>>>13,e[n]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,t[0]=e[0]+5,r=t[0]>>>13,t[0]&=8191;for(let n=1;n<10;n++)t[n]=e[n]+r,r=t[n]>>>13,t[n]&=8191;t[9]-=8192;let o=(1^r)-1;for(let e=0;e<10;e++)t[e]&=o;o=~o;for(let n=0;n<10;n++)e[n]=e[n]&o|t[n];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let i=e[0]+n[0];e[0]=65535&i;for(let t=1;t<8;t++)i=(e[t]+n[t]|0)+(i>>>16)|0,e[t]=65535&i}update(e){vr.exists(this);const{buffer:n,blockLen:t}=this,r=(e=wr(e)).length;for(let o=0;o<r;){const i=Math.min(t-this.pos,r-o);if(i!==t)n.set(e.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===t&&(this.process(n,0,!1),this.pos=0);else for(;t<=r-o;o+=t)this.process(e,o)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){vr.exists(this),vr.output(e,this),this.finished=!0;const{buffer:n,h:t}=this;let{pos:r}=this;if(r){for(n[r++]=1;r<16;r++)n[r]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let n=0;n<8;n++)e[o++]=t[n]>>>0,e[o++]=t[n]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const t=e.slice(0,n);return this.destroy(),t}}!function(e){const n=(n,t)=>e(t).update(wr(n)).digest(),t=e(new Uint8Array(32));n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=n=>e(n)}((e=>new xr(e)));const kr=yr("expand 16-byte k"),Ar=yr("expand 32-byte k"),Cr=gr(kr),Ir=gr(Ar),Ur=e=>!(e.byteOffset%4),Br=(e,n)=>e<<n|e>>>32-n;const Sr=(e=>{const{core:n,rounds:t,counterRight:r,counterLen:o,allow128bitKeys:i,extendNonceFn:s,blockLen:a}=function(e,n){if(void 0!==n&&("object"!=typeof n||(t=n,"[object Object]"!==Object.prototype.toString.call(t)||t.constructor!==Object)))throw new Error("options must be object or undefined");var t;return Object.assign(e,n)}({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},e);vr.number(o),vr.number(t),vr.number(a),vr.bool(r),vr.bool(i);const c=a/4;if(a%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(e,l,u,h,d=0)=>{if(vr.bytes(e),vr.bytes(l),vr.bytes(u),h||(h=new Uint8Array(u.length)),vr.bytes(h),vr.number(d),d<0||d>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(h.length<u.length)throw new Error(`Salsa/ChaCha: output (${h.length}) is shorter than data (${u.length})`);const f=[];let p,g;if(32===e.length)p=e,g=Ir;else{if(16!==e.length||!i)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${e.length}`);p=new Uint8Array(32),p.set(e),p.set(e,16),g=Cr,f.push(p)}if(s){if(l.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");p=s(g,p,l.subarray(0,16),new Uint8Array(32)),f.push(p),l=l.subarray(16)}const y=16-o;if(l.length!==y)throw new Error(`Salsa/ChaCha: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(l,r?0:12-l.length),f.push(l=e)}const w=new Uint8Array(a),b=gr(w),m=gr(p),v=gr(l),E=Ur(u)&&gr(u),x=Ur(h)&&gr(h);f.push(b);const k=u.length;for(let e=0,r=d;e<k;r++){if(n(g,m,v,b,r,t),r>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const o=Math.min(a,k-e);if(o===a&&x&&E){const n=e/4;if(e%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let e=0;e<c;e++)x[n+e]=E[n+e]^b[e];e+=a}else{for(let n=0;n<o;n++)h[e+n]=u[e+n]^w[n];e+=o}}for(let e=0;e<f.length;e++)f[e].fill(0);return h}})({core:function(e,n,t,r,o,i=20){let s=e[0],a=e[1],c=e[2],l=e[3],u=n[0],h=n[1],d=n[2],f=n[3],p=n[4],g=n[5],y=n[6],w=n[7],b=o,m=t[0],v=t[1],E=t[2],x=s,k=a,A=c,C=l,I=u,U=h,B=d,S=f,L=p,_=g,N=y,F=w,$=b,T=m,R=v,O=E;for(let e=0;e<i;e+=2)x=x+I|0,$=Br($^x,16),L=L+$|0,I=Br(I^L,12),x=x+I|0,$=Br($^x,8),L=L+$|0,I=Br(I^L,7),k=k+U|0,T=Br(T^k,16),_=_+T|0,U=Br(U^_,12),k=k+U|0,T=Br(T^k,8),_=_+T|0,U=Br(U^_,7),A=A+B|0,R=Br(R^A,16),N=N+R|0,B=Br(B^N,12),A=A+B|0,R=Br(R^A,8),N=N+R|0,B=Br(B^N,7),C=C+S|0,O=Br(O^C,16),F=F+O|0,S=Br(S^F,12),C=C+S|0,O=Br(O^C,8),F=F+O|0,S=Br(S^F,7),x=x+U|0,O=Br(O^x,16),N=N+O|0,U=Br(U^N,12),x=x+U|0,O=Br(O^x,8),N=N+O|0,U=Br(U^N,7),k=k+B|0,$=Br($^k,16),F=F+$|0,B=Br(B^F,12),k=k+B|0,$=Br($^k,8),F=F+$|0,B=Br(B^F,7),A=A+S|0,T=Br(T^A,16),L=L+T|0,S=Br(S^L,12),A=A+S|0,T=Br(T^A,8),L=L+T|0,S=Br(S^L,7),C=C+I|0,R=Br(R^C,16),_=_+R|0,I=Br(I^_,12),C=C+I|0,R=Br(R^C,8),_=_+R|0,I=Br(I^_,7);let H=0;r[H++]=s+x|0,r[H++]=a+k|0,r[H++]=c+A|0,r[H++]=l+C|0,r[H++]=u+I|0,r[H++]=h+U|0,r[H++]=d+B|0,r[H++]=f+S|0,r[H++]=p+L|0,r[H++]=g+_|0,r[H++]=y+N|0,r[H++]=w+F|0,r[H++]=b+$|0,r[H++]=m+T|0,r[H++]=v+R|0,r[H++]=E+O|0},counterRight:!1,counterLen:8,extendNonceFn:function(e,n,t,r){const o=gr(n),i=gr(t),s=gr(r);let a=e[0],c=e[1],l=e[2],u=e[3],h=o[0],d=o[1],f=o[2],p=o[3],g=o[4],y=o[5],w=o[6],b=o[7],m=i[0],v=i[1],E=i[2],x=i[3];for(let e=0;e<20;e+=2)a=a+h|0,m=Br(m^a,16),g=g+m|0,h=Br(h^g,12),a=a+h|0,m=Br(m^a,8),g=g+m|0,h=Br(h^g,7),c=c+d|0,v=Br(v^c,16),y=y+v|0,d=Br(d^y,12),c=c+d|0,v=Br(v^c,8),y=y+v|0,d=Br(d^y,7),l=l+f|0,E=Br(E^l,16),w=w+E|0,f=Br(f^w,12),l=l+f|0,E=Br(E^l,8),w=w+E|0,f=Br(f^w,7),u=u+p|0,x=Br(x^u,16),b=b+x|0,p=Br(p^b,12),u=u+p|0,x=Br(x^u,8),b=b+x|0,p=Br(p^b,7),a=a+d|0,x=Br(x^a,16),w=w+x|0,d=Br(d^w,12),a=a+d|0,x=Br(x^a,8),w=w+x|0,d=Br(d^w,7),c=c+f|0,m=Br(m^c,16),b=b+m|0,f=Br(f^b,12),c=c+f|0,m=Br(m^c,8),b=b+m|0,f=Br(f^b,7),l=l+p|0,v=Br(v^l,16),g=g+v|0,p=Br(p^g,12),l=l+p|0,v=Br(v^l,8),g=g+v|0,p=Br(p^g,7),u=u+h|0,E=Br(E^u,16),y=y+E|0,h=Br(h^y,12),u=u+h|0,E=Br(E^u,8),y=y+E|0,h=Br(h^y,7);return s[0]=a,s[1]=c,s[2]=l,s[3]=u,s[4]=m,s[5]=v,s[6]=E,s[7]=x,r},allow128bitKeys:!1});var Lr=Object.defineProperty,_r=(e,n)=>{for(var t in n)Lr(e,t,{get:n[t],enumerable:!0})};function Nr(e){return Me(Oe.getPublicKey(e))}_r({},{MessageNode:()=>Hr,MessageQueue:()=>jr,insertEventIntoAscendingList:()=>Or,insertEventIntoDescendingList:()=>Rr,normalizeURL:()=>Tr,utf8Decoder:()=>Fr,utf8Encoder:()=>$r});var Fr=new TextDecoder("utf-8"),$r=new TextEncoder;function Tr(e){let n=new URL(e);return n.pathname=n.pathname.replace(/\/+/g,"/"),n.pathname.endsWith("/")&&(n.pathname=n.pathname.slice(0,-1)),("80"===n.port&&"ws:"===n.protocol||"443"===n.port&&"wss:"===n.protocol)&&(n.port=""),n.searchParams.sort(),n.hash="",n.toString()}function Rr(e,n){let t,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(n.created_at<e[o].created_at)i=o+1;else if(n.created_at>=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(t=Math.floor(r+(o-r)/2),e[t].created_at>n.created_at)r=t;else{if(!(e[t].created_at<n.created_at)){i=t;break}o=t}}return e[i]?.id!==n.id?[...e.slice(0,i),n,...e.slice(i)]:e}function Or(e,n){let t,r=0,o=e.length-1,i=r;if(o<0)i=0;else if(n.created_at>e[o].created_at)i=o+1;else if(n.created_at<=e[r].created_at)i=r;else for(;;){if(o<=r+1){i=o;break}if(t=Math.floor(r+(o-r)/2),e[t].created_at<n.created_at)r=t;else{if(!(e[t].created_at>n.created_at)){i=t;break}o=t}}return e[i]?.id!==n.id?[...e.slice(0,i),n,...e.slice(i)]:e}var Hr=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},jr=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const n=new Hr(e);return 0!==this._size&&this._last?(this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}},zr=Symbol("verified");function Kr(e,n){const t=e;return t.pubkey=Nr(n),t.id=qr(t),t.sig=function(e,n){return Me(Oe.sign(qr(e),n))}(t,n),t[zr]=!0,t}function qr(e){return Me(sn($r.encode(function(e){if(!Pr(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var Mr=e=>e instanceof Object;function Pr(e){if(!Mr(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let n=0;n<e.tags.length;n++){let t=e.tags[n];if(!Array.isArray(t))return!1;for(let e=0;e<t.length;e++)if("object"==typeof t[e])return!1}return!0}function Dr(e){if("boolean"==typeof e[zr])return e[zr];const n=qr(e);if(n!==e.id)return e[zr]=!1;try{return e[zr]=Oe.verify(e.sig,n,e.pubkey)}catch(n){return e[zr]=!1}}function Vr(e,n){let t=n.length+3,r=e.indexOf(`"${n}":`)+t,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Wr(e,n){let t=n.length,r=e.indexOf(`"${n}":`)+t+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function Gr(e){let n=e.slice(0,22).indexOf('"EVENT"');if(-1===n)return null;let t=e.slice(n+7+1).indexOf('"');if(-1===t)return null;let r=n+7+1+t,o=e.slice(r+1,80).indexOf('"');if(-1===o)return null;let i=r+1+o;return e.slice(r+1,i)}function Zr(e,n){return n===Vr(e,"id")}function Jr(e,n){return n===Vr(e,"pubkey")}function Yr(e,n){return n===Wr(e,"kind")}_r({},{getHex64:()=>Vr,getInt:()=>Wr,getSubscriptionId:()=>Gr,matchEventId:()=>Zr,matchEventKind:()=>Yr,matchEventPubkey:()=>Jr}),_r({},{BECH32_REGEX:()=>Xr,decode:()=>eo,naddrEncode:()=>lo,neventEncode:()=>co,noteEncode:()=>oo,nprofileEncode:()=>ao,npubEncode:()=>ro,nrelayEncode:()=>uo,nsecEncode:()=>to});var Qr=5e3,Xr=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function eo(e){let{prefix:n,words:t}=In.decode(e,Qr),r=new Uint8Array(In.fromWords(t));switch(n){case"nprofile":{let e=no(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Me(e[0][0]),relays:e[1]?e[1].map((e=>Fr.decode(e))):[]}}}case"nevent":{let e=no(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(e[3]&&4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Me(e[0][0]),relays:e[1]?e[1].map((e=>Fr.decode(e))):[],author:e[2]?.[0]?Me(e[2][0]):void 0,kind:e[3]?.[0]?parseInt(Me(e[3][0]),16):void 0}}}case"naddr":{let e=no(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Fr.decode(e[0][0]),pubkey:Me(e[2][0]),kind:parseInt(Me(e[3][0]),16),relays:e[1]?e[1].map((e=>Fr.decode(e))):[]}}}case"nrelay":{let e=no(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Fr.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:n,data:Me(r)};default:throw new Error(`unknown prefix ${n}`)}}function no(e){let n={},t=e;for(;t.length>0;){let e=t[0],r=t[1];if(!r)throw new Error(`malformed TLV ${e}`);let o=t.slice(2,2+r);if(t=t.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${e}`);n[e]=n[e]||[],n[e].push(o)}return n}function to(e){return so("nsec",e)}function ro(e){return so("npub",e)}function oo(e){return so("note",e)}function io(e,n){let t=In.toWords(n);return In.encode(e,t,Qr)}function so(e,n){return io(e,Pe(n))}function ao(e){return io("nprofile",ho({0:[Pe(e.pubkey)],1:(e.relays||[]).map((e=>$r.encode(e)))}))}function co(e){let n;return null!=e.kind&&(n=function(e){const n=new Uint8Array(4);return n[0]=e>>24&255,n[1]=e>>16&255,n[2]=e>>8&255,n[3]=255&e,n}(e.kind)),io("nevent",ho({0:[Pe(e.id)],1:(e.relays||[]).map((e=>$r.encode(e))),2:e.author?[Pe(e.author)]:[],3:n?[new Uint8Array(n)]:[]}))}function lo(e){let n=new ArrayBuffer(4);return new DataView(n).setUint32(0,e.kind,!1),io("naddr",ho({0:[$r.encode(e.identifier)],1:(e.relays||[]).map((e=>$r.encode(e))),2:[Pe(e.pubkey)],3:[new Uint8Array(n)]}))}function uo(e){return io("nrelay",ho({0:[$r.encode(e)]}))}function ho(e){let n=[];return Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{let r=new Uint8Array(t.length+2);r.set([parseInt(e)],0),r.set([t.length],1),r.set(t,2),n.push(r)}))})),function(...e){const n=new Uint8Array(e.reduce(((e,n)=>e+n.length),0));let t=0;return e.forEach((e=>{if(!je(e))throw new Error("Uint8Array expected");n.set(e,t),t+=e.length})),n}(...n)}async function fo(e,n,t){const r=go(me.getSharedSecret(e,"02"+n));let o=Uint8Array.from(Ge(16)),i=$r.encode(t),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:o},s,i);return`${mn.encode(new Uint8Array(a))}?iv=${mn.encode(new Uint8Array(o.buffer))}`}async function po(e,n,t){let[r,o]=t.split("?iv="),i=go(me.getSharedSecret(e,"02"+n)),s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),a=mn.decode(r),c=mn.decode(o),l=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return Fr.decode(l)}function go(e){return e.slice(1,33)}_r({},{decrypt:()=>po,encrypt:()=>fo}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle),_r({},{NIP05_REGEX:()=>wo,queryProfile:()=>vo,searchDomain:()=>mo,useFetchImplementation:()=>bo});var yo,wo=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{yo=fetch}catch{}function bo(e){yo=e}async function mo(e,n=""){try{return(await(await yo(`https://${e}/.well-known/nostr.json?name=${n}`)).json()).names}catch(e){return{}}}async function vo(e){const n=e.match(wo);if(!n)return null;const[t,r="_",o]=n;try{const e=await yo(`https://${o}/.well-known/nostr.json?name=${r}`),{names:n,relays:t}=function(e){const n={names:{}};for(const[t,r]of Object.entries(e.names))"string"==typeof t&&"string"==typeof r&&(n.names[t]=r);if(e.relays){n.relays={};for(const[t,r]of Object.entries(e.relays))"string"==typeof t&&Array.isArray(r)&&(n.relays[t]=r.filter((e=>"string"==typeof e)))}return n}(await e.json()),i=n[r];return i?{pubkey:i,relays:t?.[i]}:null}catch(e){return null}}function Eo(e,n){let t=pr.fromMasterSeed(Dt(e,n)).derive("m/44'/1237'/0'/0/0").privateKey;if(!t)throw new Error("could not derive private key");return Me(t)}function xo(){return function(e,n=128){if(Fn.number(n),n%32!=0||n>256)throw new TypeError("Invalid entropy");return function(e,n){return Kt(e),Mt(n).encode(e).join(Ht(n)?"":" ")}(function(e=32){if($n&&"function"==typeof $n.getRandomValues)return $n.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}(n/8),e)}(Un)}function ko(e){return function(e,n){try{!function(e,n){const{words:t}=zt(e);Kt(Mt(n).decode(t))}(e,n)}catch(e){return!1}return!0}(e,Un)}function Ao(e){const n={reply:void 0,root:void 0,mentions:[],profiles:[]},t=[];for(const r of e.tags)"e"===r[0]&&r[1]&&t.push(r),"p"===r[0]&&r[1]&&n.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<t.length;e++){const r=t[e],[o,i,s,a]=r,c={id:i,relays:s?[s]:[]},l=0===e,u=e===t.length-1;"root"!==a?"reply"!==a?"mention"!==a?l?n.root=c:u?n.reply=c:n.mentions.push(c):n.mentions.push(c):n.reply=c:n.root=c}return n}function Co(e){let n=0;for(let t=0;t<e.length;t++){const r=parseInt(e[t],16);if(0!==r){n+=Math.clz32(r)-28;break}n+=4}return n}function Io(e,n){let t=0;const r=e,o=["nonce",t.toString(),n.toString()];for(r.tags.push(o);;){const e=Math.floor((new Date).getTime()/1e3);if(e!==r.created_at&&(t=0,r.created_at=e),o[1]=(++t).toString(),r.id=qr(r),Co(r.id)>=n)break}return r}function Uo(e,n,t,r){return Kr({kind:6,tags:[...e.tags??[],["e",n.id,t],["p",n.pubkey]],content:""===e.content?"":JSON.stringify(n),created_at:e.created_at},r)}function Bo(e){if(6!==e.kind)return;let n,t;for(let r=e.tags.length-1;r>=0&&(void 0===n||void 0===t);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===n?n=o:"p"===o[0]&&void 0===t&&(t=o))}return void 0!==n?{id:n[1],relays:[n[2],t?.[2]].filter((e=>"string"==typeof e)),author:t?.[1]}:void 0}function So(e,{skipVerification:n}={}){const t=Bo(e);if(void 0===t||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===t.id&&(n||Dr(r))?r:void 0}_r({},{generateSeedWords:()=>xo,privateKeyFromSeedWords:()=>Eo,validateWords:()=>ko}),_r({},{parse:()=>Ao}),_r({},{getPow:()=>Co,minePow:()=>Io}),_r({},{finishRepostEvent:()=>Uo,getRepostedEvent:()=>So,getRepostedEventPointer:()=>Bo}),_r({},{NOSTR_URI_REGEX:()=>Lo,parse:()=>No,test:()=>_o});var Lo=new RegExp(`nostr:(${Xr.source})`);function _o(e){return"string"==typeof e&&new RegExp(`^${Lo.source}$`).test(e)}function No(e){const n=e.match(new RegExp(`^${Lo.source}$`));if(!n)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:n[0],value:n[1],decoded:eo(n[1])}}function Fo(e,n,t){const r=n.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return Kr({...e,kind:7,tags:[...e.tags??[],...r,["e",n.id],["p",n.pubkey]],content:e.content??"+"},t)}function $o(e){if(7!==e.kind)return;let n,t;for(let r=e.tags.length-1;r>=0&&(void 0===n||void 0===t);r--){const o=e.tags[r];o.length>=2&&("e"===o[0]&&void 0===n?n=o:"p"===o[0]&&void 0===t&&(t=o))}return void 0!==n&&void 0!==t?{id:n[1],relays:[n[2],t[2]].filter((e=>void 0!==e)),author:t[1]}:void 0}function To(e,n){let t=[];(n.kind||-1)>=0&&t.push(`kind=${n.kind}`),n.until&&t.push(`created_at<${n.until}`),n.since&&t.push(`created_at>${n.since}`);let r=t.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let o=sn($r.encode(`nostr:delegation:${n.pubkey}:${r}`)),i=Me(Oe.sign(o,e));return{from:Nr(e),to:n.pubkey,cond:r,sig:i}}function Ro(e){let n=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!n)return null;let t=n[1],r=n[2],o=n[3],i=r.split("&");for(let n=0;n<i.length;n++){let[t,r,o]=i[n].split(/\b/);if(("kind"!==t||"="!==r||e.kind!==parseInt(o))&&!("created_at"===t&&"<"===r&&e.created_at<parseInt(o)||"created_at"===t&&">"===r&&e.created_at>parseInt(o)))return null}let s=sn($r.encode(`nostr:delegation:${e.pubkey}:${r}`));return Oe.verify(o,s,t)?t:null}_r({},{finishReactionEvent:()=>Fo,getReactedEventPointer:()=>$o}),_r({},{createDelegation:()=>To,getDelegator:()=>Ro}),_r({},{matchAll:()=>Ho,regex:()=>Oo,replaceAll:()=>jo});var Oo=()=>new RegExp(`\\b${Lo.source}\\b`,"g");function*Ho(e){const n=e.matchAll(Oo());for(const e of n)try{const[n,t]=e;yield{uri:n,value:t,decoded:eo(t),start:e.index,end:e.index+n.length}}catch(e){}}function jo(e,n){return e.replaceAll(Oo(),((e,t)=>n({uri:e,value:t,decoded:eo(t)})))}_r({},{channelCreateEvent:()=>Ko,channelHideMessageEvent:()=>Po,channelMessageEvent:()=>Mo,channelMetadataEvent:()=>qo,channelMuteUserEvent:()=>Do});var zo,Ko=(e,n)=>{let t;if("object"==typeof e.content)t=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;t=e.content}return Kr({kind:40,tags:[...e.tags??[]],content:t,created_at:e.created_at},n)},qo=(e,n)=>{let t;if("object"==typeof e.content)t=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;t=e.content}return Kr({kind:41,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:t,created_at:e.created_at},n)},Mo=(e,n)=>{const t=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&t.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Kr({kind:42,tags:[...t,...e.tags??[]],content:e.content,created_at:e.created_at},n)},Po=(e,n)=>{let t;if("object"==typeof e.content)t=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;t=e.content}return Kr({kind:43,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:t,created_at:e.created_at},n)},Do=(e,n)=>{let t;if("object"==typeof e.content)t=JSON.stringify(e.content);else{if("string"!=typeof e.content)return;t=e.content}return Kr({kind:44,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:t,created_at:e.created_at},n)};_r({},{useFetchImplementation:()=>Vo,validateGithub:()=>Wo});try{zo=fetch}catch{}function Vo(e){zo=e}async function Wo(e,n,t){try{return await(await zo(`https://gist.github.com/${n}/${t}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}_r({},{authenticate:()=>Go});var Go=async({challenge:e,relay:n,sign:t})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",n.url],["challenge",e]],content:""};return n.auth(await t(r))};_r({},{decrypt:()=>Qo,encrypt:()=>Yo,getSharedSecret:()=>Jo});var Zo,Jo=(e,n)=>sn(me.getSharedSecret(e,"02"+n).subarray(1,33));function Yo(e,n,t=1){if(1!==t)throw new Error("NIP44: unknown encryption version");const r=Ge(24),o=$r.encode(n),i=Sr(e,r,o),s=new Uint8Array(25+i.length);return s.set([t],0),s.set(r,1),s.set(i,25),mn.encode(s)}function Qo(e,n){let t=mn.decode(n);if(1!==t[0])throw new Error(`NIP44: unknown encryption version: ${t[0]}`);const r=t.slice(1,25),o=t.slice(25),i=Sr(e,r,o);return Fr.decode(i)}function Xo(e){const{pathname:n,searchParams:t}=new URL(e),r=n,o=t.get("relay"),i=t.get("secret");if(!r||!o||!i)throw new Error("invalid connection string");return{pubkey:r,relay:o,secret:i}}async function ei({pubkey:e,secret:n,invoice:t}){const r={method:"pay_invoice",params:{invoice:t}},o=await fo(n,e,JSON.stringify(r));return Kr({kind:23194,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]},n)}_r({},{makeNwcRequestEvent:()=>ei,parseConnectionString:()=>Xo}),_r({},{getZapEndpoint:()=>ti,makeZapReceipt:()=>ii,makeZapRequest:()=>ri,useFetchImplementation:()=>ni,validateZapRequest:()=>oi});try{Zo=fetch}catch{}function ni(e){Zo=e}async function ti(e){try{let n="",{lud06:t,lud16:r}=JSON.parse(e.content);if(t){let{words:e}=In.decode(t,1e3),r=In.fromWords(e);n=Fr.decode(r)}else{if(!r)return null;{let[e,t]=r.split("@");n=`https://${t}/.well-known/lnurlp/${e}`}}let o=await Zo(n),i=await o.json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch(e){}return null}function ri({profile:e,event:n,amount:t,relays:r,comment:o=""}){if(!t)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",t.toString()],["relays",...r]]};return n&&i.tags.push(["e",n]),i}function oi(e){let n;try{n=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!Pr(n))return"Zap request is not a valid Nostr event.";if(!Dr(n))return"Invalid signature on zap request.";let t=n.tags.find((([e,n])=>"p"===e&&n));if(!t)return"Zap request doesn't have a 'p' tag.";if(!t[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=n.tags.find((([e,n])=>"e"===e&&n));return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":n.tags.find((([e,n])=>"relays"===e&&n))?null:"Zap request doesn't have a 'relays' tag."}function ii({zapRequest:e,preimage:n,bolt11:t,paidAt:r}){let o=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),i={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...o,["bolt11",t],["description",e]]};return n&&i.tags.push(["preimage",n]),i}_r({},{getToken:()=>ai,unpackEventFromToken:()=>li,validateEvent:()=>ui,validateToken:()=>ci});var si="Nostr ";async function ai(e,n,t,r=!1){if(!e||!n)throw new Error("Missing loginUrl or httpMethod");const o=function(e=255){return{kind:e,content:"",tags:[],created_at:0}}(27235);o.tags=[["u",e],["method",n]],o.created_at=Math.round((new Date).getTime()/1e3);const i=await t(o);return(r?si:"")+mn.encode($r.encode(JSON.stringify(i)))}async function ci(e,n,t){const r=await li(e).catch((e=>{throw e}));return await ui(r,n,t).catch((e=>{throw e}))}async function li(e){if(!e)throw new Error("Missing token");e=e.replace(si,"");const n=Fr.decode(mn.decode(e));if(!n||0===n.length||!n.startsWith("{"))throw new Error("Invalid token");return JSON.parse(n)}async function ui(e,n,t){if(!e)throw new Error("Invalid nostr event");if(!Dr(e))throw new Error("Invalid nostr event, signature invalid");if(27235!==e.kind)throw new Error("Invalid nostr event, kind invalid");if(!e.created_at)throw new Error("Invalid nostr event, created_at invalid");if(Math.round((new Date).getTime()/1e3)-e.created_at>60)throw new Error("Invalid nostr event, expired");const r=e.tags.find((e=>"u"===e[0]));if(1!==r?.length&&r?.[1]!==n)throw new Error("Invalid nostr event, url tag invalid");const o=e.tags.find((e=>"method"===e[0]));if(1!==o?.length&&o?.[1].toLowerCase()!==t.toLowerCase())throw new Error("Invalid nostr event, method tag invalid");return!0}t(729);t(227),t(653),t(632),Symbol.iterator})()})();